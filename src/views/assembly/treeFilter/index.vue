<template>
	<div class="treeFilter-box">
		<TreeFilter
			label="name"
			title="éƒ¨é—¨åˆ—è¡¨(å•é€‰)"
			:requestApi="getUserDepartment"
			:defaultValue="treeFilterValue.departmentId"
			@change="changeTreeFilter"
		/>
		<TreeFilter
			title="éƒ¨é—¨åˆ—è¡¨(å¤šé€‰)"
			multiple
			label="name"
			:requestApi="getUserDepartment"
			:defaultValue="treeFilterValue1.departmentId"
			@change="changeTreeFilter1"
		/>
		<div class="descriptions-box card">
			<span class="text"> æ ‘å½¢ç­›é€‰å™¨ ğŸ“ğŸ‡ğŸˆğŸ‰</span>
			<el-descriptions title="é…ç½®é¡¹ ğŸ“š" :column="1" border>
				<el-descriptions-item label="requestApi"> è¯·æ±‚åˆ†ç±»æ•°æ®çš„ api </el-descriptions-item>
				<el-descriptions-item label="data"> åˆ†ç±»æ•°æ®ï¼Œå¦‚æœæœ‰åˆ†ç±»æ•°æ®ï¼Œåˆ™ä¸ä¼šæ‰§è¡Œ api è¯·æ±‚ </el-descriptions-item>
				<el-descriptions-item label="title"> treeFilter æ ‡é¢˜ </el-descriptions-item>
				<el-descriptions-item label="id"> é€‰æ‹©çš„idï¼Œé»˜è®¤ä¸º â€œidâ€ </el-descriptions-item>
				<el-descriptions-item label="label"> æ˜¾ç¤ºçš„labelï¼Œé»˜è®¤ä¸º â€œlabelâ€ </el-descriptions-item>
				<el-descriptions-item label="multiple"> æ˜¯å¦ä¸ºå¤šé€‰ï¼Œé»˜è®¤ä¸º false </el-descriptions-item>
				<el-descriptions-item label="defaultValue"> é»˜è®¤é€‰ä¸­çš„å€¼ </el-descriptions-item>
			</el-descriptions>
			<div class="card">
				<h3>å•é€‰</h3>
				{{ treeFilterValue }}

				<h3>å¤šé€‰</h3>

				{{ treeFilterValue1 }}
			</div>
		</div>
	</div>
</template>

<script lang="ts" setup>
import { reactive } from 'vue';
import { ElMessage } from 'element-plus';
import { getUserDepartment } from './api';
const treeFilterValue = reactive({ departmentId: '1' });
const changeTreeFilter = (val: string) => {
	ElMessage.success(`ä½ é€‰æ‹©äº† id ä¸º ${val} çš„æ•°æ®ğŸ¤”`);
	treeFilterValue.departmentId = val;
};

const treeFilterValue1 = reactive({ departmentId: ['11'] });
const changeTreeFilter1 = (val: string[]) => {
	ElMessage.success(`ä½ é€‰æ‹©äº† id ä¸º ${JSON.stringify(val)} çš„æ•°æ®ğŸ¤”`);
	treeFilterValue1.departmentId = val;
};
</script>
<style lang="scss" scoped>
.treeFilter-box {
	display: flex;
	height: 100%;
	> div {
		margin-right: 10px;
	}
}
</style>
