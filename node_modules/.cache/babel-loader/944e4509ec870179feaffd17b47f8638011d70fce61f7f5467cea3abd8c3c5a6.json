{"ast":null,"code":"import { defineComponent } from 'vue';\nimport registerMixin from '../../../mixins/register-component.mjs';\nimport guid from '../../../utils/guid.mjs';\nvar script = defineComponent({\n  name: \"ElAmapSearchBox\",\n  mixins: [registerMixin],\n  props: {\n    type: {\n      type: String\n    },\n    city: {\n      type: String\n    },\n    datatype: {\n      type: String\n    },\n    citylimit: {\n      type: Boolean,\n      default: false\n    },\n    inputId: {\n      type: String\n    },\n    inputCustom: {\n      type: Boolean,\n      default: false\n    },\n    outputId: {\n      type: String\n    },\n    outPutDirAuto: {\n      type: Boolean,\n      default: true\n    },\n    closeResultOnScroll: {\n      type: Boolean,\n      default: true\n    },\n    lang: {\n      type: String\n    },\n    placeholder: {\n      type: String\n    }\n  },\n  data() {\n    return {\n      saveInputId: \"\",\n      saveVisible: true\n    };\n  },\n  created() {\n    this.saveInputId = guid();\n  },\n  methods: {\n    __initComponent(options) {\n      if (options.inputId) {\n        this.saveInputId = options.inputId;\n        delete options.inputId;\n      }\n      if (options.visible) {\n        this.saveVisible = options.visible;\n      }\n      options.input = this.saveInputId;\n      if (options.outputId) {\n        options.output = options.outputId;\n        delete options.outputId;\n      }\n      return new Promise(resolve => {\n        this.$parentComponent.plugin([\"AMap.AutoComplete\"], () => {\n          this.$amapComponent = new AMap.AutoComplete(options);\n          resolve();\n        });\n      });\n    },\n    __visible(flag) {\n      this.saveVisible = flag;\n    },\n    __citylimit(flag) {\n      this.$amapComponent.setCityLimit(flag);\n    }\n  }\n});\nexport { script as default };","map":{"version":3,"mappings":";;;AAiBA,aAAeA,eAAgB;EAC7BC,IAAM;EACNC,QAAQ,CAACC;EACTC,KAAO;IACLC,IAAM;MACJA,IAAM;IAAA;IAERC,IAAM;MACJD,IAAM;IAAA;IAERE,QAAU;MACRF,IAAM;IAAA;IAERG,SAAW;MACTH,IAAM;MACNI,OAAS;IAAA;IAEXC,OAAS;MACPL,IAAM;IAAA;IAERM,WAAa;MACXN,IAAM;MACNI,OAAS;IAAA;IAEXG,QAAU;MACRP,IAAM;IAAA;IAERQ,aAAe;MACbR,IAAM;MACNI,OAAS;IAAA;IAEXK,mBAAqB;MACnBT,IAAM;MACNI,OAAS;IAAA;IAEXM,IAAM;MACJV,IAAM;IAAA;IAERW,WAAa;MACXX,IAAM;IAAA;EAAA;EAGVY,IAAO;IACE;MACLC,WAAa;MACbC,WAAa;IAAA;EAAA;EAGjBC,OAAU;IACR,KAAKF,WAAc;EAAA;EAErBG,OAAS;IACPC,gBAAgBC,OAAS;MACvB,IAAIA,QAAQb,OAAS;QACnB,KAAKQ,cAAcK,OAAQ;QAC3B,OAAOA,OAAQ;MAAA;MAEjB,IAAGA,QAAQC,OAAQ;QACjB,KAAKL,cAAcI,OAAQ;MAAA;MAE7BA,QAAQE,QAAQ,IAAK;MACrB,IAAIF,QAAQX,QAAU;QACpBW,QAAQG,SAASH,OAAQ;QACzB,OAAOA,OAAQ;MAAA;MAEV,WAAII,OAAc,CAACC,OAAY;QACpC,KAAKC,gBAAiB,QAAO,CAAC,sBAAsB,MAAM;UACnD,sBAAiB,IAAIC,KAAKC,YAAa;UAC5CH;QAAA;MAAA;IAAA;IAINI,UAAUC,IAAM;MACd,KAAKd,WAAc;IAAA;IAErBe,YAAYD,IAAM;MAChB,KAAKE,eAAeC,YAAa;IAAA;EAAA;AAAA","names":["defineComponent","name","mixins","RegisterComponentMixin","props","type","city","datatype","citylimit","default","inputId","inputCustom","outputId","outPutDirAuto","closeResultOnScroll","lang","placeholder","data","saveInputId","saveVisible","created","methods","__initComponent","options","visible","input","output","Promise","resolve","$parentComponent","AMap","AutoComplete","__visible","flag","__citylimit","$amapComponent","setCityLimit"],"sources":["../../../../../../src/packages/control/SearchBox/SearchBox.vue"],"sourcesContent":["<template>\r\n  <div\r\n    v-show=\"visible && !inputCustom\"\r\n    class=\"el-vue-search-box-container\"\r\n  >\r\n    <input\r\n      v-if=\"!inputCustom\"\r\n      :id=\"saveInputId\"\r\n      type=\"text\"\r\n      :placeholder=\"placeholder\"\r\n    >\r\n  </div>\r\n</template>\r\n<script lang=\"ts\">\r\nimport {defineComponent} from \"vue\";\r\nimport RegisterComponentMixin from '../../../mixins/register-component';\r\nimport guid from '../../../utils/guid';\r\nexport default defineComponent({\r\n  name: 'ElAmapSearchBox',\r\n  mixins: [RegisterComponentMixin],\r\n  props: {\r\n    type: {\r\n      type: String\r\n    },//输入提示时限定POI类型，多个类型用“|”分隔，目前只支持Poi类型编码如“050000” 默认值：所有类别\r\n    city: {\r\n      type: String\r\n    },//输入提示时限定城市。可选值：城市名（中文或中文全拼）、citycode、adcode；默认值：“全国”\r\n    datatype: {\r\n      type: String\r\n    },//返回的数据类型。可选值：all-返回所有数据类型、poi-返回POI数据类型、bus-返回公交站点数据类型、busline-返回公交线路数据类型目前暂时不支持多种类型\r\n    citylimit: {\r\n      type: Boolean,\r\n      default: false\r\n    },//返回的数据类型。可选值：all-返回所有数据类型、poi-返回POI数据类型、bus-返回公交站点数据类型、busline-返回公交线路数据类型目前暂时不支持多种类型\r\n    inputId: {\r\n      type: String\r\n    },//输入框的ID\r\n    inputCustom: {\r\n      type: Boolean,\r\n      default: false\r\n    }, //是否自定义input，自定义的时候将使用用户的inputId\r\n    outputId: {\r\n      type: String\r\n    },//可选参数，指定一个现有的div的id或者元素，作为展示提示结果的容器，当指定了input的时候有效，缺省的时候将自动创建一个显示结果面板\r\n    outPutDirAuto: {\r\n      type: Boolean,\r\n      default: true\r\n    },//默认为true，表示是否在input位于页面较下方的时候自动将输入面板显示在input上方以避免被遮挡\r\n    closeResultOnScroll: {\r\n      type: Boolean,\r\n      default: true\r\n    },//页面滚动时关闭搜索结果列表，默认 true\r\n    lang: {\r\n      type: String\r\n    },//设置检索语言类型，默认中文 'zh_cn'\r\n    placeholder: {\r\n      type: String\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      saveInputId: '',\r\n      saveVisible: true,\r\n    };\r\n  },\r\n  created() {\r\n    this.saveInputId = guid();\r\n  },\r\n  methods: {\r\n    __initComponent(options) {\r\n      if (options.inputId) {\r\n        this.saveInputId = options.inputId;\r\n        delete options.inputId;\r\n      }\r\n      if(options.visible){\r\n        this.saveVisible = options.visible;\r\n      }\r\n      options.input = this.saveInputId;\r\n      if (options.outputId) {\r\n        options.output = options.outputId;\r\n        delete options.outputId;\r\n      }\r\n      return new Promise<void>((resolve) => {\r\n        this.$parentComponent.plugin(['AMap.AutoComplete'], () => {\r\n          this.$amapComponent = new AMap.AutoComplete(options);\r\n          resolve();\r\n        });\r\n      });\r\n    },\r\n    __visible(flag) {\r\n      this.saveVisible = flag;\r\n    },\r\n    __citylimit(flag) {\r\n      this.$amapComponent.setCityLimit(flag);\r\n    }\r\n  }\r\n});\r\n</script>\r\n<style lang=\"scss\">\r\n.el-vue-search-box-container {\r\n  position: absolute;\r\n  left: 16px;\r\n  top: 16px;\r\n  z-index: 10;\r\n  width: 360px;\r\n  height: 45px;\r\n  background: #fff;\r\n  box-shadow: 0 2px 2px rgba(0,0,0,.15);\r\n  border-radius: 2px 3px 3px 2px;\r\n\r\n  input {\r\n    height: 100%;\r\n    width: 100%;\r\n    line-height: 45px;\r\n    letter-spacing: .5px;\r\n    font-size: 14px;\r\n    text-indent: 10px;\r\n    box-sizing: border-box;\r\n    border: none;\r\n    outline: none;\r\n  }\r\n\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}