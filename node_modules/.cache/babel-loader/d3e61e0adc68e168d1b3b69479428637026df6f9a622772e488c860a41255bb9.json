{"ast":null,"code":"import autoResize from '../../../mixin/autoResize';\nimport { deepMerge } from '@jiaminghi/charts/lib/util/index';\nimport { deepClone } from '@jiaminghi/c-render/lib/plugin/util';\nexport default {\n  name: 'DvDecoration2',\n  mixins: [autoResize],\n  props: {\n    color: {\n      type: Array,\n      default: () => []\n    },\n    reverse: {\n      type: Boolean,\n      default: false\n    },\n    dur: {\n      type: Number,\n      default: 6\n    }\n  },\n  data() {\n    return {\n      ref: 'decoration-2',\n      x: 0,\n      y: 0,\n      w: 0,\n      h: 0,\n      defaultColor: ['#3faacb', '#fff'],\n      mergedColor: []\n    };\n  },\n  watch: {\n    color() {\n      const {\n        mergeColor\n      } = this;\n      mergeColor();\n    },\n    reverse() {\n      const {\n        calcSVGData\n      } = this;\n      calcSVGData();\n    }\n  },\n  methods: {\n    afterAutoResizeMixinInit() {\n      const {\n        calcSVGData\n      } = this;\n      calcSVGData();\n    },\n    calcSVGData() {\n      const {\n        reverse,\n        width,\n        height\n      } = this;\n      if (reverse) {\n        this.w = 1;\n        this.h = height;\n        this.x = width / 2;\n        this.y = 0;\n      } else {\n        this.w = width;\n        this.h = 1;\n        this.x = 0;\n        this.y = height / 2;\n      }\n    },\n    onResize() {\n      const {\n        calcSVGData\n      } = this;\n      calcSVGData();\n    },\n    mergeColor() {\n      const {\n        color,\n        defaultColor\n      } = this;\n      this.mergedColor = deepMerge(deepClone(defaultColor, true), color || []);\n    }\n  },\n  mounted() {\n    const {\n      mergeColor\n    } = this;\n    mergeColor();\n  }\n};","map":{"version":3,"mappings":"AAiCA,OAAOA,UAAS,MAAO,2BAA0B;AAEjD,SAASC,SAAQ,QAAS,kCAAiC;AAE3D,SAASC,SAAQ,QAAS,qCAAoC;AAE9D,eAAe;EACbC,IAAI,EAAE,eAAe;EACrBC,MAAM,EAAE,CAACJ,UAAU,CAAC;EACpBK,KAAK,EAAE;IACLC,KAAK,EAAE;MACLC,IAAI,EAAEC,KAAK;MACXC,OAAO,EAAE,MAAO;IAClB,CAAC;IACDC,OAAO,EAAE;MACPH,IAAI,EAAEI,OAAO;MACbF,OAAO,EAAE;IACX,CAAC;IACDG,GAAG,EAAE;MACHL,IAAI,EAAEM,MAAM;MACZJ,OAAO,EAAE;IACX;EACF,CAAC;EACDK,IAAG,GAAK;IACN,OAAO;MACLC,GAAG,EAAE,cAAc;MAEnBC,CAAC,EAAE,CAAC;MACJC,CAAC,EAAE,CAAC;MAEJC,CAAC,EAAE,CAAC;MACJC,CAAC,EAAE,CAAC;MAEJC,YAAY,EAAE,CAAC,SAAS,EAAE,MAAM,CAAC;MAEjCC,WAAW,EAAE;IACf;EACF,CAAC;EACDC,KAAK,EAAE;IACLhB,KAAI,GAAK;MACP,MAAM;QAAEiB;MAAW,IAAI,IAAG;MAE1BA,UAAU,EAAC;IACb,CAAC;IACDb,OAAM,GAAK;MACT,MAAM;QAAEc;MAAY,IAAI,IAAG;MAE3BA,WAAW,EAAC;IACd;EACF,CAAC;EACDC,OAAO,EAAE;IACPC,wBAAuB,GAAK;MAC1B,MAAM;QAAEF;MAAY,IAAI,IAAG;MAE3BA,WAAW,EAAC;IACd,CAAC;IACDA,WAAU,GAAK;MACb,MAAM;QAAEd,OAAO;QAAEiB,KAAK;QAAEC;MAAO,IAAI,IAAG;MAEtC,IAAIlB,OAAO,EAAE;QACX,IAAI,CAACQ,IAAI;QACT,IAAI,CAACC,IAAIS,MAAK;QACd,IAAI,CAACZ,IAAIW,KAAI,GAAI;QACjB,IAAI,CAACV,IAAI;MACX,OAAO;QACL,IAAI,CAACC,IAAIS,KAAI;QACb,IAAI,CAACR,IAAI;QACT,IAAI,CAACH,IAAI;QACT,IAAI,CAACC,IAAIW,MAAK,GAAI;MACpB;IACF,CAAC;IACDC,QAAO,GAAK;MACV,MAAM;QAAEL;MAAY,IAAI,IAAG;MAE3BA,WAAW,EAAC;IACd,CAAC;IACDD,UAAS,GAAK;MACZ,MAAM;QAAEjB,KAAK;QAAEc;MAAa,IAAI,IAAG;MAEnC,IAAI,CAACC,WAAU,GAAIpB,SAAS,CAACC,SAAS,CAACkB,YAAY,EAAE,IAAI,CAAC,EAAEd,KAAI,IAAK,EAAE;IACzE;EACF,CAAC;EACDwB,OAAM,GAAK;IACT,MAAM;MAAEP;IAAW,IAAI,IAAG;IAE1BA,UAAU,EAAC;EACb;AACF","names":["autoResize","deepMerge","deepClone","name","mixins","props","color","type","Array","default","reverse","Boolean","dur","Number","data","ref","x","y","w","h","defaultColor","mergedColor","watch","mergeColor","calcSVGData","methods","afterAutoResizeMixinInit","width","height","onResize","mounted"],"sourceRoot":"","sources":["/Users/yanbinru/Desktop/代码/github/vue3-knowledge/node_modules/@jiaminghi/data-view/lib/components/decoration2/src/main.vue"],"sourcesContent":["<template>\n  <div class=\"dv-decoration-2\" :ref=\"ref\">\n    <svg :width=\"`${width}px`\" :height=\"`${height}px`\">\n      <rect :x=\"x\" :y=\"y\" :width=\"w\" :height=\"h\" :fill=\"mergedColor[0]\">\n        <animate\n          :attributeName=\"reverse ? 'height' : 'width'\"\n          from=\"0\"\n          :to=\"reverse ? height : width\"\n          :dur=\"`${dur}s`\"\n          calcMode=\"spline\"\n          keyTimes=\"0;1\"\n          keySplines=\".42,0,.58,1\"\n          repeatCount=\"indefinite\"\n        />\n      </rect>\n\n      <rect :x=\"x\" :y=\"y\" width=\"1\" height=\"1\" :fill=\"mergedColor[1]\">\n        <animate\n          :attributeName=\"reverse ? 'y' : 'x'\"\n          from=\"0\"\n          :to=\"reverse ? height : width\"\n          :dur=\"`${dur}s`\"\n          calcMode=\"spline\"\n          keyTimes=\"0;1\"\n          keySplines=\"0.42,0,0.58,1\"\n          repeatCount=\"indefinite\"\n        />\n      </rect>\n    </svg>\n  </div>\n</template>\n\n<script>\nimport autoResize from '../../../mixin/autoResize'\n\nimport { deepMerge } from '@jiaminghi/charts/lib/util/index'\n\nimport { deepClone } from '@jiaminghi/c-render/lib/plugin/util'\n\nexport default {\n  name: 'DvDecoration2',\n  mixins: [autoResize],\n  props: {\n    color: {\n      type: Array,\n      default: () => ([])\n    },\n    reverse: {\n      type: Boolean,\n      default: false\n    },\n    dur: {\n      type: Number,\n      default: 6\n    }\n  },\n  data () {\n    return {\n      ref: 'decoration-2',\n\n      x: 0,\n      y: 0,\n\n      w: 0,\n      h: 0,\n\n      defaultColor: ['#3faacb', '#fff'],\n\n      mergedColor: []\n    }\n  },\n  watch: {\n    color () {\n      const { mergeColor } = this\n\n      mergeColor()\n    },\n    reverse () {\n      const { calcSVGData } = this\n\n      calcSVGData()\n    }\n  },\n  methods: {\n    afterAutoResizeMixinInit () {\n      const { calcSVGData } = this\n\n      calcSVGData()\n    },\n    calcSVGData () {\n      const { reverse, width, height } = this\n\n      if (reverse) {\n        this.w = 1\n        this.h = height\n        this.x = width / 2\n        this.y = 0\n      } else {\n        this.w = width\n        this.h = 1\n        this.x = 0\n        this.y = height / 2\n      }\n    },\n    onResize () {\n      const { calcSVGData } = this\n\n      calcSVGData()\n    },\n    mergeColor () {\n      const { color, defaultColor } = this\n\n      this.mergedColor = deepMerge(deepClone(defaultColor, true), color || [])\n    }\n  },\n  mounted () {\n    const { mergeColor } = this\n\n    mergeColor()\n  }\n}\n</script>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}