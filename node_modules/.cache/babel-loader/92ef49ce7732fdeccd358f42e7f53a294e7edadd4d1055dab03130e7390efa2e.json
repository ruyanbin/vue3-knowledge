{"ast":null,"code":"import { defineComponent } from 'vue';\nimport eventHelper from '../utils/event-helper.mjs';\nimport { eventReg, convertEventToLowerCase } from '../utils/util.mjs';\nvar editorMixin = defineComponent({\n  props: {\n    editable: {\n      type: Boolean,\n      default: void 0\n    },\n    editOptions: {\n      type: Object\n    }\n  },\n  data() {\n    return {};\n  },\n  methods: {\n    setEditorEvents() {\n      if (!this.$amapComponent.editor) return;\n      const filters = [\"addnode\", \"adjust\", \"removenode\", \"end\", \"move\", \"add\"];\n      const filterSet = {};\n      Object.keys(this.$attrs).forEach(key => {\n        if (eventReg.test(key)) {\n          const eventKey = convertEventToLowerCase(key);\n          if (filters.indexOf(eventKey) !== -1) filterSet[eventKey] = this.$attrs[key];\n        }\n      });\n      Object.keys(filterSet).forEach(key => {\n        eventHelper.addListener(this.$amapComponent.editor, key, filterSet[key]);\n      });\n    }\n  }\n});\nexport { editorMixin as default };","map":{"version":3,"mappings":";;;AAIA,kBAAeA,eAAgB;EAC7BC,KAAO;IACLC,QAAU;MACRC,IAAM;MACNC,OAAS;IAAA;IAEXC,WAAa;MACXF,IAAM;IAAA;EAAA;EAGVG,IAAO;IACE;EAAA;EAGTC,OAAS;IACPC,eAAkB;MACZ,KAAC,KAAKC,cAAe,SAAQ;MACjC,MAAMC,UAAU,CAAC,WAAW,QAAU,gBAAc,OAAO,MAAQ;MACnE,MAAMC,SAAY;MAClBC,OAAOC,IAAK,MAAKC,MAAQ,UAAeC;QACnC,aAASC,KAAKD,GAAK;UACpB,MAAME,WAAWC,uBAAwB;UACrC,YAAQC,QAAQF,QAAc,UAAcN,sBAAY,KAAKG,MAAO;QAAA;MAAA;MAIrEF,YAAKD,SAAW,UAAeI;QACpCK,YAAYC,WAAY,MAAKZ,cAAe,SAAQM,KAAKJ,SAAU;MAAA;IAAA;EAAA;AAAA","names":["defineComponent","props","editable","type","default","editOptions","data","methods","setEditorEvents","$amapComponent","filters","filterSet","Object","keys","$attrs","key","test","eventKey","convertEventToLowerCase","indexOf","eventHelper","addListener"],"sources":["../../../../src/mixins/editor-component.ts"],"sourcesContent":["import {defineComponent} from \"vue\";\r\nimport eventHelper from '../utils/event-helper';\r\nimport {convertEventToLowerCase, eventReg} from \"../utils/util\";\r\n\r\nexport default defineComponent({\r\n  props: {\r\n    editable: {\r\n      type: Boolean,\r\n      default: undefined\r\n    },\r\n    editOptions: {\r\n      type: Object\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n    };\r\n  },\r\n  methods: {\r\n    setEditorEvents() {\r\n      if (!this.$amapComponent.editor) return;\r\n      const filters = ['addnode', 'adjust', 'removenode', 'end', 'move', 'add'];\r\n      const filterSet = {};\r\n      Object.keys(this.$attrs).forEach(key => {\r\n        if(eventReg.test(key)){\r\n          const eventKey = convertEventToLowerCase(key);\r\n          if (filters.indexOf(eventKey) !== -1) filterSet[eventKey] = this.$attrs[key];\r\n        }\r\n\r\n      });\r\n      Object.keys(filterSet).forEach(key => {\r\n        eventHelper.addListener(this.$amapComponent.editor, key, filterSet[key]);\r\n      });\r\n    }\r\n  }\r\n});\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}