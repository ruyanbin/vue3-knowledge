{"ast":null,"code":"import { HemisphereLight, Color } from 'three';\nclass ThreeLightHemisphere {\n  constructor(layer, options) {\n    this.layer = layer;\n    const light = new HemisphereLight(this.getColorHex(options.color), this.getColorHex(options.groundColor), options.intensity);\n    this.object = light;\n    this.setPosition(options.position);\n    layer.add(light);\n  }\n  setColor(color) {\n    this.object.color = new Color(color);\n    this.refresh();\n  }\n  setGroundColor(color) {\n    this.object.groundColor = new Color(color);\n    this.refresh();\n  }\n  getColorHex(color) {\n    return new Color(color).getHex();\n  }\n  setIntensity(intensity) {\n    this.object.intensity = intensity;\n    this.refresh();\n  }\n  setPosition(position) {\n    this.object.position.set(position.x, position.y, position.z);\n    this.refresh();\n  }\n  refresh() {\n    var _a;\n    (_a = this.layer) == null ? void 0 : _a.update();\n  }\n  remove() {\n    var _a;\n    if (this.object) {\n      (_a = this.layer) == null ? void 0 : _a.remove(this.object);\n    }\n  }\n  destroy() {\n    if (this.object) {\n      this.object = null;\n      this.layer = null;\n    }\n  }\n}\nexport { ThreeLightHemisphere as default };","map":{"version":3,"mappings":";AAYA,MAA2BA;EAIzBC,YAAYC,OAAyBC,OAAkB;IACrD,KAAKD,KAAQ;IACP,cAAQ,IAAIE,gBAAgB,IAAK,aAAYD,OAAQ,SAAQ,IAAK,aAAYA,OAAQ,eAAcA,OAAQ;IAClH,KAAKE,MAAS;IACd,KAAKC,YAAYH,OAAQ;IACzBD,MAAMK,GAAI;EAAA;EAGZC,SAASC,KAAe;IACjB,YAAQA,KAAQ,OAAIC,KAAM;IAC1B;EAAA;EAGPC,eAAeF,KAAe;IACvB,YAAQG,WAAc,OAAIF,KAAM;IAChC;EAAA;EAGPG,YAAYJ,KAAc;IACjB,WAAIC,MAAMD,KAAO;EAAA;EAG1BK,aAAaC,SAAmB;IAC9B,KAAKV,OAAQU,SAAY;IACpB;EAAA;EAGPT,YAAYU,QAAc;IACxB,KAAKX,OAAQW,QAAS,KAAIA,SAASC,CAAG,WAASC,GAAGF,QAAS;IACtD;EAAA;EAGPG,OAAU;IAhDZ;IAiDI,WAAKjB,UAAL,IAAY;EAAA;EAGdkB,MAAQ;IApDV;IAqDI,IAAI,KAAKf,MAAQ;MACV,qBAAL,IAAY,sBAAO,IAAK;IAAA;EAAA;EAI5BgB,OAAU;IACR,IAAI,KAAKhB,MAAQ;MACf,KAAKA,MAAS;MACd,KAAKH,KAAQ;IAAA;EAAA;AAAA","names":["ThreeLightHemisphere","constructor","layer","options","HemisphereLight","object","setPosition","add","setColor","color","Color","setGroundColor","groundColor","getColorHex","setIntensity","intensity","position","x","y","refresh","remove","destroy"],"sources":["../../../../../../src/packages/three/ThreeLightHemisphere/ThreeLightHemisphere.ts"],"sourcesContent":["import {HemisphereLight, Color} from 'three';\r\nimport type {Vec} from \"./Type\";\r\nimport type CustomThreeLayer from '@vue-map/packages/three/ThreeLayer/CustomThreeLayer'\r\n\r\n\r\ninterface Options {\r\n  color: string // 颜色的rgb数值。缺省值为 0xffffff。\r\n  groundColor: string // 传递的地面发出光线的颜色\r\n  intensity: number  // 光照的强度。缺省值为 1。\r\n  position: Vec // 灯光位置\r\n}\r\n\r\nclass ThreeLightHemisphere {\r\n  object: HemisphereLight | null// Light\r\n  layer: CustomThreeLayer | null // threejs的图层对象\r\n\r\n  constructor(layer: CustomThreeLayer, options: Options) {\r\n    this.layer = layer;\r\n    const light = new HemisphereLight(this.getColorHex(options.color), this.getColorHex(options.groundColor), options.intensity);\r\n    this.object = light;\r\n    this.setPosition(options.position);\r\n    layer.add(light);\r\n  }\r\n\r\n  setColor(color: string) {\r\n    this.object!.color = new Color(color);\r\n    this.refresh();\r\n  }\r\n\r\n  setGroundColor(color: string) {\r\n    this.object!.groundColor = new Color(color);\r\n    this.refresh();\r\n  }\r\n\r\n  getColorHex(color: string){\r\n    return new Color(color).getHex();\r\n  }\r\n\r\n  setIntensity(intensity: number) {\r\n    this.object!.intensity = intensity;\r\n    this.refresh();\r\n  }\r\n\r\n  setPosition(position: Vec){\r\n    this.object!.position.set(position.x, position.y, position.z);\r\n    this.refresh();\r\n  }\r\n\r\n  refresh() {\r\n    this.layer?.update();\r\n  }\r\n\r\n  remove(){\r\n    if (this.object) {\r\n      this.layer?.remove(this.object)\r\n    }\r\n  }\r\n\r\n  destroy() {\r\n    if (this.object) {\r\n      this.object = null;\r\n      this.layer = null;\r\n    }\r\n  }\r\n}\r\n\r\nexport default ThreeLightHemisphere\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}