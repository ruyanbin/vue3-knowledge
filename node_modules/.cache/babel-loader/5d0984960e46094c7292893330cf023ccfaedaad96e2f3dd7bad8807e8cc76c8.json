{"ast":null,"code":"/*!\n  * vue-i18n v9.2.2\n  * (c) 2022 kazuya kawaguchi\n  * Released under the MIT License.\n  */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nvar shared = require('@intlify/shared');\nvar coreBase = require('@intlify/core-base');\nvar vue = require('vue');\n\n/**\r\n * Vue I18n Version\r\n *\r\n * @remarks\r\n * Semver format. Same format as the package.json `version` field.\r\n *\r\n * @VueI18nGeneral\r\n */\nconst VERSION = '9.2.2';\nlet code$1 = coreBase.CoreWarnCodes.__EXTEND_POINT__;\nconst inc$1 = () => ++code$1;\nconst I18nWarnCodes = {\n  FALLBACK_TO_ROOT: code$1,\n  NOT_SUPPORTED_PRESERVE: inc$1(),\n  NOT_SUPPORTED_FORMATTER: inc$1(),\n  NOT_SUPPORTED_PRESERVE_DIRECTIVE: inc$1(),\n  NOT_SUPPORTED_GET_CHOICE_INDEX: inc$1(),\n  COMPONENT_NAME_LEGACY_COMPATIBLE: inc$1(),\n  NOT_FOUND_PARENT_SCOPE: inc$1() // 13\n};\n\nconst warnMessages = {\n  [I18nWarnCodes.FALLBACK_TO_ROOT]: `Fall back to {type} '{key}' with root locale.`,\n  [I18nWarnCodes.NOT_SUPPORTED_PRESERVE]: `Not supported 'preserve'.`,\n  [I18nWarnCodes.NOT_SUPPORTED_FORMATTER]: `Not supported 'formatter'.`,\n  [I18nWarnCodes.NOT_SUPPORTED_PRESERVE_DIRECTIVE]: `Not supported 'preserveDirectiveContent'.`,\n  [I18nWarnCodes.NOT_SUPPORTED_GET_CHOICE_INDEX]: `Not supported 'getChoiceIndex'.`,\n  [I18nWarnCodes.COMPONENT_NAME_LEGACY_COMPATIBLE]: `Component name legacy compatible: '{name}' -> 'i18n'`,\n  [I18nWarnCodes.NOT_FOUND_PARENT_SCOPE]: `Not found parent scope. use the global scope.`\n};\nfunction getWarnMessage(code, ...args) {\n  return shared.format(warnMessages[code], ...args);\n}\nlet code = coreBase.CompileErrorCodes.__EXTEND_POINT__;\nconst inc = () => ++code;\nconst I18nErrorCodes = {\n  // composer module errors\n  UNEXPECTED_RETURN_TYPE: code,\n  // legacy module errors\n  INVALID_ARGUMENT: inc(),\n  // i18n module errors\n  MUST_BE_CALL_SETUP_TOP: inc(),\n  NOT_INSLALLED: inc(),\n  NOT_AVAILABLE_IN_LEGACY_MODE: inc(),\n  // directive module errors\n  REQUIRED_VALUE: inc(),\n  INVALID_VALUE: inc(),\n  // vue-devtools errors\n  CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN: inc(),\n  NOT_INSLALLED_WITH_PROVIDE: inc(),\n  // unexpected error\n  UNEXPECTED_ERROR: inc(),\n  // not compatible legacy vue-i18n constructor\n  NOT_COMPATIBLE_LEGACY_VUE_I18N: inc(),\n  // bridge support vue 2.x only\n  BRIDGE_SUPPORT_VUE_2_ONLY: inc(),\n  // need to define `i18n` option in `allowComposition: true` and `useScope: 'local' at `useI18n``\n  MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION: inc(),\n  // Not available Compostion API in Legacy API mode. Please make sure that the legacy API mode is working properly\n  NOT_AVAILABLE_COMPOSITION_IN_LEGACY: inc(),\n  // for enhancement\n  __EXTEND_POINT__: inc() // 29\n};\n\nfunction createI18nError(code, ...args) {\n  return coreBase.createCompileError(code, null, {\n    messages: errorMessages,\n    args\n  });\n}\nconst errorMessages = {\n  [I18nErrorCodes.UNEXPECTED_RETURN_TYPE]: 'Unexpected return type in composer',\n  [I18nErrorCodes.INVALID_ARGUMENT]: 'Invalid argument',\n  [I18nErrorCodes.MUST_BE_CALL_SETUP_TOP]: 'Must be called at the top of a `setup` function',\n  [I18nErrorCodes.NOT_INSLALLED]: 'Need to install with `app.use` function',\n  [I18nErrorCodes.UNEXPECTED_ERROR]: 'Unexpected error',\n  [I18nErrorCodes.NOT_AVAILABLE_IN_LEGACY_MODE]: 'Not available in legacy mode',\n  [I18nErrorCodes.REQUIRED_VALUE]: `Required in value: {0}`,\n  [I18nErrorCodes.INVALID_VALUE]: `Invalid value`,\n  [I18nErrorCodes.CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN]: `Cannot setup vue-devtools plugin`,\n  [I18nErrorCodes.NOT_INSLALLED_WITH_PROVIDE]: 'Need to install with `provide` function',\n  [I18nErrorCodes.NOT_COMPATIBLE_LEGACY_VUE_I18N]: 'Not compatible legacy VueI18n.',\n  [I18nErrorCodes.BRIDGE_SUPPORT_VUE_2_ONLY]: 'vue-i18n-bridge support Vue 2.x only',\n  [I18nErrorCodes.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION]: 'Must define ‘i18n’ option or custom block in Composition API with using local scope in Legacy API mode',\n  [I18nErrorCodes.NOT_AVAILABLE_COMPOSITION_IN_LEGACY]: 'Not available Compostion API in Legacy API mode. Please make sure that the legacy API mode is working properly'\n};\nconst TransrateVNodeSymbol = /* #__PURE__*/shared.makeSymbol('__transrateVNode');\nconst DatetimePartsSymbol = /* #__PURE__*/shared.makeSymbol('__datetimeParts');\nconst NumberPartsSymbol = /* #__PURE__*/shared.makeSymbol('__numberParts');\nconst EnableEmitter = /* #__PURE__*/shared.makeSymbol('__enableEmitter');\nconst DisableEmitter = /* #__PURE__*/shared.makeSymbol('__disableEmitter');\nconst SetPluralRulesSymbol = shared.makeSymbol('__setPluralRules');\nshared.makeSymbol('__intlifyMeta');\nconst InejctWithOption = /* #__PURE__*/shared.makeSymbol('__injectWithOption');\nconst __VUE_I18N_BRIDGE__ = '__VUE_I18N_BRIDGE__';\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n/**\r\n * Transform flat json in obj to normal json in obj\r\n */\nfunction handleFlatJson(obj) {\n  // check obj\n  if (!shared.isObject(obj)) {\n    return obj;\n  }\n  for (const key in obj) {\n    // check key\n    if (!shared.hasOwn(obj, key)) {\n      continue;\n    }\n    // handle for normal json\n    if (!key.includes('.')) {\n      // recursive process value if value is also a object\n      if (shared.isObject(obj[key])) {\n        handleFlatJson(obj[key]);\n      }\n    }\n    // handle for flat json, transform to normal json\n    else {\n      // go to the last object\n      const subKeys = key.split('.');\n      const lastIndex = subKeys.length - 1;\n      let currentObj = obj;\n      for (let i = 0; i < lastIndex; i++) {\n        if (!(subKeys[i] in currentObj)) {\n          currentObj[subKeys[i]] = {};\n        }\n        currentObj = currentObj[subKeys[i]];\n      }\n      // update last object value, delete old property\n      currentObj[subKeys[lastIndex]] = obj[key];\n      delete obj[key];\n      // recursive process value if value is also a object\n      if (shared.isObject(currentObj[subKeys[lastIndex]])) {\n        handleFlatJson(currentObj[subKeys[lastIndex]]);\n      }\n    }\n  }\n  return obj;\n}\nfunction getLocaleMessages(locale, options) {\n  const {\n    messages,\n    __i18n,\n    messageResolver,\n    flatJson\n  } = options;\n  // prettier-ignore\n  const ret = shared.isPlainObject(messages) ? messages : shared.isArray(__i18n) ? {} : {\n    [locale]: {}\n  };\n  // merge locale messages of i18n custom block\n  if (shared.isArray(__i18n)) {\n    __i18n.forEach(custom => {\n      if ('locale' in custom && 'resource' in custom) {\n        const {\n          locale,\n          resource\n        } = custom;\n        if (locale) {\n          ret[locale] = ret[locale] || {};\n          deepCopy(resource, ret[locale]);\n        } else {\n          deepCopy(resource, ret);\n        }\n      } else {\n        shared.isString(custom) && deepCopy(JSON.parse(custom), ret);\n      }\n    });\n  }\n  // handle messages for flat json\n  if (messageResolver == null && flatJson) {\n    for (const key in ret) {\n      if (shared.hasOwn(ret, key)) {\n        handleFlatJson(ret[key]);\n      }\n    }\n  }\n  return ret;\n}\nconst isNotObjectOrIsArray = val => !shared.isObject(val) || shared.isArray(val);\n// eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/explicit-module-boundary-types\nfunction deepCopy(src, des) {\n  // src and des should both be objects, and non of then can be a array\n  if (isNotObjectOrIsArray(src) || isNotObjectOrIsArray(des)) {\n    throw createI18nError(I18nErrorCodes.INVALID_VALUE);\n  }\n  for (const key in src) {\n    if (shared.hasOwn(src, key)) {\n      if (isNotObjectOrIsArray(src[key]) || isNotObjectOrIsArray(des[key])) {\n        // replace with src[key] when:\n        // src[key] or des[key] is not a object, or\n        // src[key] or des[key] is a array\n        des[key] = src[key];\n      } else {\n        // src[key] and des[key] are both object, merge them\n        deepCopy(src[key], des[key]);\n      }\n    }\n  }\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction getComponentOptions(instance) {\n  return instance.type;\n}\nfunction adjustI18nResources(global, options, componentOptions // eslint-disable-line @typescript-eslint/no-explicit-any\n) {\n  let messages = shared.isObject(options.messages) ? options.messages : {};\n  if ('__i18nGlobal' in componentOptions) {\n    messages = getLocaleMessages(global.locale.value, {\n      messages,\n      __i18n: componentOptions.__i18nGlobal\n    });\n  }\n  // merge locale messages\n  const locales = Object.keys(messages);\n  if (locales.length) {\n    locales.forEach(locale => {\n      global.mergeLocaleMessage(locale, messages[locale]);\n    });\n  }\n  {\n    // merge datetime formats\n    if (shared.isObject(options.datetimeFormats)) {\n      const locales = Object.keys(options.datetimeFormats);\n      if (locales.length) {\n        locales.forEach(locale => {\n          global.mergeDateTimeFormat(locale, options.datetimeFormats[locale]);\n        });\n      }\n    }\n    // merge number formats\n    if (shared.isObject(options.numberFormats)) {\n      const locales = Object.keys(options.numberFormats);\n      if (locales.length) {\n        locales.forEach(locale => {\n          global.mergeNumberFormat(locale, options.numberFormats[locale]);\n        });\n      }\n    }\n  }\n}\nfunction createTextNode(key) {\n  return vue.createVNode(vue.Text, null, key, 0);\n}\n/* eslint-enable @typescript-eslint/no-explicit-any */\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n// extend VNode interface\nconst DEVTOOLS_META = '__INTLIFY_META__';\nlet composerID = 0;\nfunction defineCoreMissingHandler(missing) {\n  return (ctx, locale, key, type) => {\n    return missing(locale, key, vue.getCurrentInstance() || undefined, type);\n  };\n}\n// for Intlify DevTools\nconst getMetaInfo = () => {\n  const instance = vue.getCurrentInstance();\n  let meta = null; // eslint-disable-line @typescript-eslint/no-explicit-any\n  return instance && (meta = getComponentOptions(instance)[DEVTOOLS_META]) ? {\n    [DEVTOOLS_META]: meta\n  } // eslint-disable-line @typescript-eslint/no-explicit-any\n  : null;\n};\n/**\r\n * Create composer interface factory\r\n *\r\n * @internal\r\n */\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nfunction createComposer(options = {}, VueI18nLegacy) {\n  const {\n    __root\n  } = options;\n  const _isGlobal = __root === undefined;\n  let _inheritLocale = shared.isBoolean(options.inheritLocale) ? options.inheritLocale : true;\n  const _locale = vue.ref(\n  // prettier-ignore\n  __root && _inheritLocale ? __root.locale.value : shared.isString(options.locale) ? options.locale : coreBase.DEFAULT_LOCALE);\n  const _fallbackLocale = vue.ref(\n  // prettier-ignore\n  __root && _inheritLocale ? __root.fallbackLocale.value : shared.isString(options.fallbackLocale) || shared.isArray(options.fallbackLocale) || shared.isPlainObject(options.fallbackLocale) || options.fallbackLocale === false ? options.fallbackLocale : _locale.value);\n  const _messages = vue.ref(getLocaleMessages(_locale.value, options));\n  // prettier-ignore\n  const _datetimeFormats = vue.ref(shared.isPlainObject(options.datetimeFormats) ? options.datetimeFormats : {\n    [_locale.value]: {}\n  });\n  // prettier-ignore\n  const _numberFormats = vue.ref(shared.isPlainObject(options.numberFormats) ? options.numberFormats : {\n    [_locale.value]: {}\n  });\n  // warning suppress options\n  // prettier-ignore\n  let _missingWarn = __root ? __root.missingWarn : shared.isBoolean(options.missingWarn) || shared.isRegExp(options.missingWarn) ? options.missingWarn : true;\n  // prettier-ignore\n  let _fallbackWarn = __root ? __root.fallbackWarn : shared.isBoolean(options.fallbackWarn) || shared.isRegExp(options.fallbackWarn) ? options.fallbackWarn : true;\n  // prettier-ignore\n  let _fallbackRoot = __root ? __root.fallbackRoot : shared.isBoolean(options.fallbackRoot) ? options.fallbackRoot : true;\n  // configure fall back to root\n  let _fallbackFormat = !!options.fallbackFormat;\n  // runtime missing\n  let _missing = shared.isFunction(options.missing) ? options.missing : null;\n  let _runtimeMissing = shared.isFunction(options.missing) ? defineCoreMissingHandler(options.missing) : null;\n  // postTranslation handler\n  let _postTranslation = shared.isFunction(options.postTranslation) ? options.postTranslation : null;\n  // prettier-ignore\n  let _warnHtmlMessage = __root ? __root.warnHtmlMessage : shared.isBoolean(options.warnHtmlMessage) ? options.warnHtmlMessage : true;\n  let _escapeParameter = !!options.escapeParameter;\n  // custom linked modifiers\n  // prettier-ignore\n  const _modifiers = __root ? __root.modifiers : shared.isPlainObject(options.modifiers) ? options.modifiers : {};\n  // pluralRules\n  let _pluralRules = options.pluralRules || __root && __root.pluralRules;\n  // runtime context\n  // eslint-disable-next-line prefer-const\n  let _context;\n  const getCoreContext = () => {\n    _isGlobal && coreBase.setFallbackContext(null);\n    const ctxOptions = {\n      version: VERSION,\n      locale: _locale.value,\n      fallbackLocale: _fallbackLocale.value,\n      messages: _messages.value,\n      modifiers: _modifiers,\n      pluralRules: _pluralRules,\n      missing: _runtimeMissing === null ? undefined : _runtimeMissing,\n      missingWarn: _missingWarn,\n      fallbackWarn: _fallbackWarn,\n      fallbackFormat: _fallbackFormat,\n      unresolving: true,\n      postTranslation: _postTranslation === null ? undefined : _postTranslation,\n      warnHtmlMessage: _warnHtmlMessage,\n      escapeParameter: _escapeParameter,\n      messageResolver: options.messageResolver,\n      __meta: {\n        framework: 'vue'\n      }\n    };\n    {\n      ctxOptions.datetimeFormats = _datetimeFormats.value;\n      ctxOptions.numberFormats = _numberFormats.value;\n      ctxOptions.__datetimeFormatters = shared.isPlainObject(_context) ? _context.__datetimeFormatters : undefined;\n      ctxOptions.__numberFormatters = shared.isPlainObject(_context) ? _context.__numberFormatters : undefined;\n    }\n    {\n      ctxOptions.__v_emitter = shared.isPlainObject(_context) ? _context.__v_emitter : undefined;\n    }\n    const ctx = coreBase.createCoreContext(ctxOptions);\n    _isGlobal && coreBase.setFallbackContext(ctx);\n    return ctx;\n  };\n  _context = getCoreContext();\n  coreBase.updateFallbackLocale(_context, _locale.value, _fallbackLocale.value);\n  // track reactivity\n  function trackReactivityValues() {\n    return [_locale.value, _fallbackLocale.value, _messages.value, _datetimeFormats.value, _numberFormats.value];\n  }\n  // locale\n  const locale = vue.computed({\n    get: () => _locale.value,\n    set: val => {\n      _locale.value = val;\n      _context.locale = _locale.value;\n    }\n  });\n  // fallbackLocale\n  const fallbackLocale = vue.computed({\n    get: () => _fallbackLocale.value,\n    set: val => {\n      _fallbackLocale.value = val;\n      _context.fallbackLocale = _fallbackLocale.value;\n      coreBase.updateFallbackLocale(_context, _locale.value, val);\n    }\n  });\n  // messages\n  const messages = vue.computed(() => _messages.value);\n  // datetimeFormats\n  const datetimeFormats = /* #__PURE__*/vue.computed(() => _datetimeFormats.value);\n  // numberFormats\n  const numberFormats = /* #__PURE__*/vue.computed(() => _numberFormats.value);\n  // getPostTranslationHandler\n  function getPostTranslationHandler() {\n    return shared.isFunction(_postTranslation) ? _postTranslation : null;\n  }\n  // setPostTranslationHandler\n  function setPostTranslationHandler(handler) {\n    _postTranslation = handler;\n    _context.postTranslation = handler;\n  }\n  // getMissingHandler\n  function getMissingHandler() {\n    return _missing;\n  }\n  // setMissingHandler\n  function setMissingHandler(handler) {\n    if (handler !== null) {\n      _runtimeMissing = defineCoreMissingHandler(handler);\n    }\n    _missing = handler;\n    _context.missing = _runtimeMissing;\n  }\n  function isResolvedTranslateMessage(type, arg // eslint-disable-line @typescript-eslint/no-explicit-any\n  ) {\n    return type !== 'translate' || !arg.resolvedMessage;\n  }\n  const wrapWithDeps = (fn, argumentParser, warnType, fallbackSuccess, fallbackFail, successCondition) => {\n    trackReactivityValues(); // track reactive dependency\n    // NOTE: experimental !!\n    let ret;\n    {\n      try {\n        coreBase.setAdditionalMeta(getMetaInfo());\n        if (!_isGlobal) {\n          _context.fallbackContext = __root ? coreBase.getFallbackContext() : undefined;\n        }\n        ret = fn(_context);\n      } finally {\n        coreBase.setAdditionalMeta(null);\n        if (!_isGlobal) {\n          _context.fallbackContext = undefined;\n        }\n      }\n    }\n    if (shared.isNumber(ret) && ret === coreBase.NOT_REOSLVED) {\n      const [key, arg2] = argumentParser();\n      if (__root && shared.isString(key) && isResolvedTranslateMessage(warnType, arg2)) {\n        if (_fallbackRoot && (coreBase.isTranslateFallbackWarn(_fallbackWarn, key) || coreBase.isTranslateMissingWarn(_missingWarn, key))) {\n          shared.warn(getWarnMessage(I18nWarnCodes.FALLBACK_TO_ROOT, {\n            key,\n            type: warnType\n          }));\n        }\n        // for vue-devtools timeline event\n        {\n          const {\n            __v_emitter: emitter\n          } = _context;\n          if (emitter && _fallbackRoot) {\n            emitter.emit(\"fallback\" /* FALBACK */, {\n              type: warnType,\n              key,\n              to: 'global',\n              groupId: `${warnType}:${key}`\n            });\n          }\n        }\n      }\n      return __root && _fallbackRoot ? fallbackSuccess(__root) : fallbackFail(key);\n    } else if (successCondition(ret)) {\n      return ret;\n    } else {\n      /* istanbul ignore next */\n      throw createI18nError(I18nErrorCodes.UNEXPECTED_RETURN_TYPE);\n    }\n  };\n  // t\n  function t(...args) {\n    return wrapWithDeps(context => Reflect.apply(coreBase.translate, null, [context, ...args]), () => coreBase.parseTranslateArgs(...args), 'translate', root => Reflect.apply(root.t, root, [...args]), key => key, val => shared.isString(val));\n  }\n  // rt\n  function rt(...args) {\n    const [arg1, arg2, arg3] = args;\n    if (arg3 && !shared.isObject(arg3)) {\n      throw createI18nError(I18nErrorCodes.INVALID_ARGUMENT);\n    }\n    return t(...[arg1, arg2, shared.assign({\n      resolvedMessage: true\n    }, arg3 || {})]);\n  }\n  // d\n  function d(...args) {\n    return wrapWithDeps(context => Reflect.apply(coreBase.datetime, null, [context, ...args]), () => coreBase.parseDateTimeArgs(...args), 'datetime format', root => Reflect.apply(root.d, root, [...args]), () => coreBase.MISSING_RESOLVE_VALUE, val => shared.isString(val));\n  }\n  // n\n  function n(...args) {\n    return wrapWithDeps(context => Reflect.apply(coreBase.number, null, [context, ...args]), () => coreBase.parseNumberArgs(...args), 'number format', root => Reflect.apply(root.n, root, [...args]), () => coreBase.MISSING_RESOLVE_VALUE, val => shared.isString(val));\n  }\n  // for custom processor\n  function normalize(values) {\n    return values.map(val => shared.isString(val) || shared.isNumber(val) || shared.isBoolean(val) ? createTextNode(String(val)) : val);\n  }\n  const interpolate = val => val;\n  const processor = {\n    normalize,\n    interpolate,\n    type: 'vnode'\n  };\n  // transrateVNode, using for `i18n-t` component\n  function transrateVNode(...args) {\n    return wrapWithDeps(context => {\n      let ret;\n      const _context = context;\n      try {\n        _context.processor = processor;\n        ret = Reflect.apply(coreBase.translate, null, [_context, ...args]);\n      } finally {\n        _context.processor = null;\n      }\n      return ret;\n    }, () => coreBase.parseTranslateArgs(...args), 'translate',\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    root => root[TransrateVNodeSymbol](...args), key => [createTextNode(key)], val => shared.isArray(val));\n  }\n  // numberParts, using for `i18n-n` component\n  function numberParts(...args) {\n    return wrapWithDeps(context => Reflect.apply(coreBase.number, null, [context, ...args]), () => coreBase.parseNumberArgs(...args), 'number format',\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    root => root[NumberPartsSymbol](...args), () => [], val => shared.isString(val) || shared.isArray(val));\n  }\n  // datetimeParts, using for `i18n-d` component\n  function datetimeParts(...args) {\n    return wrapWithDeps(context => Reflect.apply(coreBase.datetime, null, [context, ...args]), () => coreBase.parseDateTimeArgs(...args), 'datetime format',\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    root => root[DatetimePartsSymbol](...args), () => [], val => shared.isString(val) || shared.isArray(val));\n  }\n  function setPluralRules(rules) {\n    _pluralRules = rules;\n    _context.pluralRules = _pluralRules;\n  }\n  // te\n  function te(key, locale) {\n    const targetLocale = shared.isString(locale) ? locale : _locale.value;\n    const message = getLocaleMessage(targetLocale);\n    return _context.messageResolver(message, key) !== null;\n  }\n  function resolveMessages(key) {\n    let messages = null;\n    const locales = coreBase.fallbackWithLocaleChain(_context, _fallbackLocale.value, _locale.value);\n    for (let i = 0; i < locales.length; i++) {\n      const targetLocaleMessages = _messages.value[locales[i]] || {};\n      const messageValue = _context.messageResolver(targetLocaleMessages, key);\n      if (messageValue != null) {\n        messages = messageValue;\n        break;\n      }\n    }\n    return messages;\n  }\n  // tm\n  function tm(key) {\n    const messages = resolveMessages(key);\n    // prettier-ignore\n    return messages != null ? messages : __root ? __root.tm(key) || {} : {};\n  }\n  // getLocaleMessage\n  function getLocaleMessage(locale) {\n    return _messages.value[locale] || {};\n  }\n  // setLocaleMessage\n  function setLocaleMessage(locale, message) {\n    _messages.value[locale] = message;\n    _context.messages = _messages.value;\n  }\n  // mergeLocaleMessage\n  function mergeLocaleMessage(locale, message) {\n    _messages.value[locale] = _messages.value[locale] || {};\n    deepCopy(message, _messages.value[locale]);\n    _context.messages = _messages.value;\n  }\n  // getDateTimeFormat\n  function getDateTimeFormat(locale) {\n    return _datetimeFormats.value[locale] || {};\n  }\n  // setDateTimeFormat\n  function setDateTimeFormat(locale, format) {\n    _datetimeFormats.value[locale] = format;\n    _context.datetimeFormats = _datetimeFormats.value;\n    coreBase.clearDateTimeFormat(_context, locale, format);\n  }\n  // mergeDateTimeFormat\n  function mergeDateTimeFormat(locale, format) {\n    _datetimeFormats.value[locale] = shared.assign(_datetimeFormats.value[locale] || {}, format);\n    _context.datetimeFormats = _datetimeFormats.value;\n    coreBase.clearDateTimeFormat(_context, locale, format);\n  }\n  // getNumberFormat\n  function getNumberFormat(locale) {\n    return _numberFormats.value[locale] || {};\n  }\n  // setNumberFormat\n  function setNumberFormat(locale, format) {\n    _numberFormats.value[locale] = format;\n    _context.numberFormats = _numberFormats.value;\n    coreBase.clearNumberFormat(_context, locale, format);\n  }\n  // mergeNumberFormat\n  function mergeNumberFormat(locale, format) {\n    _numberFormats.value[locale] = shared.assign(_numberFormats.value[locale] || {}, format);\n    _context.numberFormats = _numberFormats.value;\n    coreBase.clearNumberFormat(_context, locale, format);\n  }\n  // for debug\n  composerID++;\n  // watch root locale & fallbackLocale\n  if (__root && shared.inBrowser) {\n    vue.watch(__root.locale, val => {\n      if (_inheritLocale) {\n        _locale.value = val;\n        _context.locale = val;\n        coreBase.updateFallbackLocale(_context, _locale.value, _fallbackLocale.value);\n      }\n    });\n    vue.watch(__root.fallbackLocale, val => {\n      if (_inheritLocale) {\n        _fallbackLocale.value = val;\n        _context.fallbackLocale = val;\n        coreBase.updateFallbackLocale(_context, _locale.value, _fallbackLocale.value);\n      }\n    });\n  }\n  // define basic composition API!\n  const composer = {\n    id: composerID,\n    locale,\n    fallbackLocale,\n    get inheritLocale() {\n      return _inheritLocale;\n    },\n    set inheritLocale(val) {\n      _inheritLocale = val;\n      if (val && __root) {\n        _locale.value = __root.locale.value;\n        _fallbackLocale.value = __root.fallbackLocale.value;\n        coreBase.updateFallbackLocale(_context, _locale.value, _fallbackLocale.value);\n      }\n    },\n    get availableLocales() {\n      return Object.keys(_messages.value).sort();\n    },\n    messages,\n    get modifiers() {\n      return _modifiers;\n    },\n    get pluralRules() {\n      return _pluralRules || {};\n    },\n    get isGlobal() {\n      return _isGlobal;\n    },\n    get missingWarn() {\n      return _missingWarn;\n    },\n    set missingWarn(val) {\n      _missingWarn = val;\n      _context.missingWarn = _missingWarn;\n    },\n    get fallbackWarn() {\n      return _fallbackWarn;\n    },\n    set fallbackWarn(val) {\n      _fallbackWarn = val;\n      _context.fallbackWarn = _fallbackWarn;\n    },\n    get fallbackRoot() {\n      return _fallbackRoot;\n    },\n    set fallbackRoot(val) {\n      _fallbackRoot = val;\n    },\n    get fallbackFormat() {\n      return _fallbackFormat;\n    },\n    set fallbackFormat(val) {\n      _fallbackFormat = val;\n      _context.fallbackFormat = _fallbackFormat;\n    },\n    get warnHtmlMessage() {\n      return _warnHtmlMessage;\n    },\n    set warnHtmlMessage(val) {\n      _warnHtmlMessage = val;\n      _context.warnHtmlMessage = val;\n    },\n    get escapeParameter() {\n      return _escapeParameter;\n    },\n    set escapeParameter(val) {\n      _escapeParameter = val;\n      _context.escapeParameter = val;\n    },\n    t,\n    getLocaleMessage,\n    setLocaleMessage,\n    mergeLocaleMessage,\n    getPostTranslationHandler,\n    setPostTranslationHandler,\n    getMissingHandler,\n    setMissingHandler,\n    [SetPluralRulesSymbol]: setPluralRules\n  };\n  {\n    composer.datetimeFormats = datetimeFormats;\n    composer.numberFormats = numberFormats;\n    composer.rt = rt;\n    composer.te = te;\n    composer.tm = tm;\n    composer.d = d;\n    composer.n = n;\n    composer.getDateTimeFormat = getDateTimeFormat;\n    composer.setDateTimeFormat = setDateTimeFormat;\n    composer.mergeDateTimeFormat = mergeDateTimeFormat;\n    composer.getNumberFormat = getNumberFormat;\n    composer.setNumberFormat = setNumberFormat;\n    composer.mergeNumberFormat = mergeNumberFormat;\n    composer[InejctWithOption] = options.__injectWithOption;\n    composer[TransrateVNodeSymbol] = transrateVNode;\n    composer[DatetimePartsSymbol] = datetimeParts;\n    composer[NumberPartsSymbol] = numberParts;\n  }\n  // for vue-devtools timeline event\n  {\n    composer[EnableEmitter] = emitter => {\n      _context.__v_emitter = emitter;\n    };\n    composer[DisableEmitter] = () => {\n      _context.__v_emitter = undefined;\n    };\n  }\n  return composer;\n}\n/* eslint-enable @typescript-eslint/no-explicit-any */\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n/**\r\n * Convert to I18n Composer Options from VueI18n Options\r\n *\r\n * @internal\r\n */\nfunction convertComposerOptions(options) {\n  const locale = shared.isString(options.locale) ? options.locale : coreBase.DEFAULT_LOCALE;\n  const fallbackLocale = shared.isString(options.fallbackLocale) || shared.isArray(options.fallbackLocale) || shared.isPlainObject(options.fallbackLocale) || options.fallbackLocale === false ? options.fallbackLocale : locale;\n  const missing = shared.isFunction(options.missing) ? options.missing : undefined;\n  const missingWarn = shared.isBoolean(options.silentTranslationWarn) || shared.isRegExp(options.silentTranslationWarn) ? !options.silentTranslationWarn : true;\n  const fallbackWarn = shared.isBoolean(options.silentFallbackWarn) || shared.isRegExp(options.silentFallbackWarn) ? !options.silentFallbackWarn : true;\n  const fallbackRoot = shared.isBoolean(options.fallbackRoot) ? options.fallbackRoot : true;\n  const fallbackFormat = !!options.formatFallbackMessages;\n  const modifiers = shared.isPlainObject(options.modifiers) ? options.modifiers : {};\n  const pluralizationRules = options.pluralizationRules;\n  const postTranslation = shared.isFunction(options.postTranslation) ? options.postTranslation : undefined;\n  const warnHtmlMessage = shared.isString(options.warnHtmlInMessage) ? options.warnHtmlInMessage !== 'off' : true;\n  const escapeParameter = !!options.escapeParameterHtml;\n  const inheritLocale = shared.isBoolean(options.sync) ? options.sync : true;\n  if (options.formatter) {\n    shared.warn(getWarnMessage(I18nWarnCodes.NOT_SUPPORTED_FORMATTER));\n  }\n  if (options.preserveDirectiveContent) {\n    shared.warn(getWarnMessage(I18nWarnCodes.NOT_SUPPORTED_PRESERVE_DIRECTIVE));\n  }\n  let messages = options.messages;\n  if (shared.isPlainObject(options.sharedMessages)) {\n    const sharedMessages = options.sharedMessages;\n    const locales = Object.keys(sharedMessages);\n    messages = locales.reduce((messages, locale) => {\n      const message = messages[locale] || (messages[locale] = {});\n      shared.assign(message, sharedMessages[locale]);\n      return messages;\n    }, messages || {});\n  }\n  const {\n    __i18n,\n    __root,\n    __injectWithOption\n  } = options;\n  const datetimeFormats = options.datetimeFormats;\n  const numberFormats = options.numberFormats;\n  const flatJson = options.flatJson;\n  return {\n    locale,\n    fallbackLocale,\n    messages,\n    flatJson,\n    datetimeFormats,\n    numberFormats,\n    missing,\n    missingWarn,\n    fallbackWarn,\n    fallbackRoot,\n    fallbackFormat,\n    modifiers,\n    pluralRules: pluralizationRules,\n    postTranslation,\n    warnHtmlMessage,\n    escapeParameter,\n    messageResolver: options.messageResolver,\n    inheritLocale,\n    __i18n,\n    __root,\n    __injectWithOption\n  };\n}\n/**\r\n * create VueI18n interface factory\r\n *\r\n * @internal\r\n */\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nfunction createVueI18n(options = {}, VueI18nLegacy) {\n  {\n    const composer = createComposer(convertComposerOptions(options));\n    // defines VueI18n\n    const vueI18n = {\n      // id\n      id: composer.id,\n      // locale\n      get locale() {\n        return composer.locale.value;\n      },\n      set locale(val) {\n        composer.locale.value = val;\n      },\n      // fallbackLocale\n      get fallbackLocale() {\n        return composer.fallbackLocale.value;\n      },\n      set fallbackLocale(val) {\n        composer.fallbackLocale.value = val;\n      },\n      // messages\n      get messages() {\n        return composer.messages.value;\n      },\n      // datetimeFormats\n      get datetimeFormats() {\n        return composer.datetimeFormats.value;\n      },\n      // numberFormats\n      get numberFormats() {\n        return composer.numberFormats.value;\n      },\n      // availableLocales\n      get availableLocales() {\n        return composer.availableLocales;\n      },\n      // formatter\n      get formatter() {\n        shared.warn(getWarnMessage(I18nWarnCodes.NOT_SUPPORTED_FORMATTER));\n        // dummy\n        return {\n          interpolate() {\n            return [];\n          }\n        };\n      },\n      set formatter(val) {\n        shared.warn(getWarnMessage(I18nWarnCodes.NOT_SUPPORTED_FORMATTER));\n      },\n      // missing\n      get missing() {\n        return composer.getMissingHandler();\n      },\n      set missing(handler) {\n        composer.setMissingHandler(handler);\n      },\n      // silentTranslationWarn\n      get silentTranslationWarn() {\n        return shared.isBoolean(composer.missingWarn) ? !composer.missingWarn : composer.missingWarn;\n      },\n      set silentTranslationWarn(val) {\n        composer.missingWarn = shared.isBoolean(val) ? !val : val;\n      },\n      // silentFallbackWarn\n      get silentFallbackWarn() {\n        return shared.isBoolean(composer.fallbackWarn) ? !composer.fallbackWarn : composer.fallbackWarn;\n      },\n      set silentFallbackWarn(val) {\n        composer.fallbackWarn = shared.isBoolean(val) ? !val : val;\n      },\n      // modifiers\n      get modifiers() {\n        return composer.modifiers;\n      },\n      // formatFallbackMessages\n      get formatFallbackMessages() {\n        return composer.fallbackFormat;\n      },\n      set formatFallbackMessages(val) {\n        composer.fallbackFormat = val;\n      },\n      // postTranslation\n      get postTranslation() {\n        return composer.getPostTranslationHandler();\n      },\n      set postTranslation(handler) {\n        composer.setPostTranslationHandler(handler);\n      },\n      // sync\n      get sync() {\n        return composer.inheritLocale;\n      },\n      set sync(val) {\n        composer.inheritLocale = val;\n      },\n      // warnInHtmlMessage\n      get warnHtmlInMessage() {\n        return composer.warnHtmlMessage ? 'warn' : 'off';\n      },\n      set warnHtmlInMessage(val) {\n        composer.warnHtmlMessage = val !== 'off';\n      },\n      // escapeParameterHtml\n      get escapeParameterHtml() {\n        return composer.escapeParameter;\n      },\n      set escapeParameterHtml(val) {\n        composer.escapeParameter = val;\n      },\n      // preserveDirectiveContent\n      get preserveDirectiveContent() {\n        shared.warn(getWarnMessage(I18nWarnCodes.NOT_SUPPORTED_PRESERVE_DIRECTIVE));\n        return true;\n      },\n      set preserveDirectiveContent(val) {\n        shared.warn(getWarnMessage(I18nWarnCodes.NOT_SUPPORTED_PRESERVE_DIRECTIVE));\n      },\n      // pluralizationRules\n      get pluralizationRules() {\n        return composer.pluralRules || {};\n      },\n      // for internal\n      __composer: composer,\n      // t\n      t(...args) {\n        const [arg1, arg2, arg3] = args;\n        const options = {};\n        let list = null;\n        let named = null;\n        if (!shared.isString(arg1)) {\n          throw createI18nError(I18nErrorCodes.INVALID_ARGUMENT);\n        }\n        const key = arg1;\n        if (shared.isString(arg2)) {\n          options.locale = arg2;\n        } else if (shared.isArray(arg2)) {\n          list = arg2;\n        } else if (shared.isPlainObject(arg2)) {\n          named = arg2;\n        }\n        if (shared.isArray(arg3)) {\n          list = arg3;\n        } else if (shared.isPlainObject(arg3)) {\n          named = arg3;\n        }\n        // return composer.t(key, (list || named || {}) as any, options)\n        return Reflect.apply(composer.t, composer, [key, list || named || {}, options]);\n      },\n      rt(...args) {\n        return Reflect.apply(composer.rt, composer, [...args]);\n      },\n      // tc\n      tc(...args) {\n        const [arg1, arg2, arg3] = args;\n        const options = {\n          plural: 1\n        };\n        let list = null;\n        let named = null;\n        if (!shared.isString(arg1)) {\n          throw createI18nError(I18nErrorCodes.INVALID_ARGUMENT);\n        }\n        const key = arg1;\n        if (shared.isString(arg2)) {\n          options.locale = arg2;\n        } else if (shared.isNumber(arg2)) {\n          options.plural = arg2;\n        } else if (shared.isArray(arg2)) {\n          list = arg2;\n        } else if (shared.isPlainObject(arg2)) {\n          named = arg2;\n        }\n        if (shared.isString(arg3)) {\n          options.locale = arg3;\n        } else if (shared.isArray(arg3)) {\n          list = arg3;\n        } else if (shared.isPlainObject(arg3)) {\n          named = arg3;\n        }\n        // return composer.t(key, (list || named || {}) as any, options)\n        return Reflect.apply(composer.t, composer, [key, list || named || {}, options]);\n      },\n      // te\n      te(key, locale) {\n        return composer.te(key, locale);\n      },\n      // tm\n      tm(key) {\n        return composer.tm(key);\n      },\n      // getLocaleMessage\n      getLocaleMessage(locale) {\n        return composer.getLocaleMessage(locale);\n      },\n      // setLocaleMessage\n      setLocaleMessage(locale, message) {\n        composer.setLocaleMessage(locale, message);\n      },\n      // mergeLocaleMessage\n      mergeLocaleMessage(locale, message) {\n        composer.mergeLocaleMessage(locale, message);\n      },\n      // d\n      d(...args) {\n        return Reflect.apply(composer.d, composer, [...args]);\n      },\n      // getDateTimeFormat\n      getDateTimeFormat(locale) {\n        return composer.getDateTimeFormat(locale);\n      },\n      // setDateTimeFormat\n      setDateTimeFormat(locale, format) {\n        composer.setDateTimeFormat(locale, format);\n      },\n      // mergeDateTimeFormat\n      mergeDateTimeFormat(locale, format) {\n        composer.mergeDateTimeFormat(locale, format);\n      },\n      // n\n      n(...args) {\n        return Reflect.apply(composer.n, composer, [...args]);\n      },\n      // getNumberFormat\n      getNumberFormat(locale) {\n        return composer.getNumberFormat(locale);\n      },\n      // setNumberFormat\n      setNumberFormat(locale, format) {\n        composer.setNumberFormat(locale, format);\n      },\n      // mergeNumberFormat\n      mergeNumberFormat(locale, format) {\n        composer.mergeNumberFormat(locale, format);\n      },\n      // getChoiceIndex\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      getChoiceIndex(choice, choicesLength) {\n        shared.warn(getWarnMessage(I18nWarnCodes.NOT_SUPPORTED_GET_CHOICE_INDEX));\n        return -1;\n      },\n      // for internal\n      __onComponentInstanceCreated(target) {\n        const {\n          componentInstanceCreatedListener\n        } = options;\n        if (componentInstanceCreatedListener) {\n          componentInstanceCreatedListener(target, vueI18n);\n        }\n      }\n    };\n    // for vue-devtools timeline event\n    {\n      vueI18n.__enableEmitter = emitter => {\n        const __composer = composer;\n        __composer[EnableEmitter] && __composer[EnableEmitter](emitter);\n      };\n      vueI18n.__disableEmitter = () => {\n        const __composer = composer;\n        __composer[DisableEmitter] && __composer[DisableEmitter]();\n      };\n    }\n    return vueI18n;\n  }\n}\n/* eslint-enable @typescript-eslint/no-explicit-any */\n\nconst baseFormatProps = {\n  tag: {\n    type: [String, Object]\n  },\n  locale: {\n    type: String\n  },\n  scope: {\n    type: String,\n    // NOTE: avoid https://github.com/microsoft/rushstack/issues/1050\n    validator: (val /* ComponetI18nScope */) => val === 'parent' || val === 'global',\n    default: 'parent' /* ComponetI18nScope */\n  },\n\n  i18n: {\n    type: Object\n  }\n};\nfunction getInterpolateArg(\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\n{\n  slots\n},\n// SetupContext,\nkeys) {\n  if (keys.length === 1 && keys[0] === 'default') {\n    // default slot with list\n    const ret = slots.default ? slots.default() : [];\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return ret.reduce((slot, current) => {\n      return slot = [...slot, ...(shared.isArray(current.children) ? current.children : [current])];\n    }, []);\n  } else {\n    // named slots\n    return keys.reduce((arg, key) => {\n      const slot = slots[key];\n      if (slot) {\n        arg[key] = slot();\n      }\n      return arg;\n    }, {});\n  }\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction getFragmentableTag(tag) {\n  return vue.Fragment;\n}\n\n/**\r\n * Translation Component\r\n *\r\n * @remarks\r\n * See the following items for property about details\r\n *\r\n * @VueI18nSee [TranslationProps](component#translationprops)\r\n * @VueI18nSee [BaseFormatProps](component#baseformatprops)\r\n * @VueI18nSee [Component Interpolation](../guide/advanced/component)\r\n *\r\n * @example\r\n * ```html\r\n * <div id=\"app\">\r\n *   <!-- ... -->\r\n *   <i18n path=\"term\" tag=\"label\" for=\"tos\">\r\n *     <a :href=\"url\" target=\"_blank\">{{ $t('tos') }}</a>\r\n *   </i18n>\r\n *   <!-- ... -->\r\n * </div>\r\n * ```\r\n * ```js\r\n * import { createApp } from 'vue'\r\n * import { createI18n } from 'vue-i18n'\r\n *\r\n * const messages = {\r\n *   en: {\r\n *     tos: 'Term of Service',\r\n *     term: 'I accept xxx {0}.'\r\n *   },\r\n *   ja: {\r\n *     tos: '利用規約',\r\n *     term: '私は xxx の{0}に同意します。'\r\n *   }\r\n * }\r\n *\r\n * const i18n = createI18n({\r\n *   locale: 'en',\r\n *   messages\r\n * })\r\n *\r\n * const app = createApp({\r\n *   data: {\r\n *     url: '/term'\r\n *   }\r\n * }).use(i18n).mount('#app')\r\n * ```\r\n *\r\n * @VueI18nComponent\r\n */\nconst Translation = /* defineComponent */{\n  /* eslint-disable */\n  name: 'i18n-t',\n  props: shared.assign({\n    keypath: {\n      type: String,\n      required: true\n    },\n    plural: {\n      type: [Number, String],\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      validator: val => shared.isNumber(val) || !isNaN(val)\n    }\n  }, baseFormatProps),\n  /* eslint-enable */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  setup(props, context) {\n    const {\n      slots,\n      attrs\n    } = context;\n    // NOTE: avoid https://github.com/microsoft/rushstack/issues/1050\n    const i18n = props.i18n || useI18n({\n      useScope: props.scope,\n      __useComponent: true\n    });\n    return () => {\n      const keys = Object.keys(slots).filter(key => key !== '_');\n      const options = {};\n      if (props.locale) {\n        options.locale = props.locale;\n      }\n      if (props.plural !== undefined) {\n        options.plural = shared.isString(props.plural) ? +props.plural : props.plural;\n      }\n      const arg = getInterpolateArg(context, keys);\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      const children = i18n[TransrateVNodeSymbol](props.keypath, arg, options);\n      const assignedAttrs = shared.assign({}, attrs);\n      const tag = shared.isString(props.tag) || shared.isObject(props.tag) ? props.tag : getFragmentableTag();\n      return vue.h(tag, assignedAttrs, children);\n    };\n  }\n};\nfunction isVNode(target) {\n  return shared.isArray(target) && !shared.isString(target[0]);\n}\nfunction renderFormatter(props, context, slotKeys, partFormatter) {\n  const {\n    slots,\n    attrs\n  } = context;\n  return () => {\n    const options = {\n      part: true\n    };\n    let overrides = {};\n    if (props.locale) {\n      options.locale = props.locale;\n    }\n    if (shared.isString(props.format)) {\n      options.key = props.format;\n    } else if (shared.isObject(props.format)) {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      if (shared.isString(props.format.key)) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        options.key = props.format.key;\n      }\n      // Filter out number format options only\n      overrides = Object.keys(props.format).reduce((options, prop) => {\n        return slotKeys.includes(prop) ? shared.assign({}, options, {\n          [prop]: props.format[prop]\n        }) // eslint-disable-line @typescript-eslint/no-explicit-any\n        : options;\n      }, {});\n    }\n    const parts = partFormatter(...[props.value, options, overrides]);\n    let children = [options.key];\n    if (shared.isArray(parts)) {\n      children = parts.map((part, index) => {\n        const slot = slots[part.type];\n        const node = slot ? slot({\n          [part.type]: part.value,\n          index,\n          parts\n        }) : [part.value];\n        if (isVNode(node)) {\n          node[0].key = `${part.type}-${index}`;\n        }\n        return node;\n      });\n    } else if (shared.isString(parts)) {\n      children = [parts];\n    }\n    const assignedAttrs = shared.assign({}, attrs);\n    const tag = shared.isString(props.tag) || shared.isObject(props.tag) ? props.tag : getFragmentableTag();\n    return vue.h(tag, assignedAttrs, children);\n  };\n}\n\n/**\r\n * Number Format Component\r\n *\r\n * @remarks\r\n * See the following items for property about details\r\n *\r\n * @VueI18nSee [FormattableProps](component#formattableprops)\r\n * @VueI18nSee [BaseFormatProps](component#baseformatprops)\r\n * @VueI18nSee [Custom Formatting](../guide/essentials/number#custom-formatting)\r\n *\r\n * @VueI18nDanger\r\n * Not supported IE, due to no support `Intl.NumberFormat#formatToParts` in [IE](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/NumberFormat/formatToParts)\r\n *\r\n * If you want to use it, you need to use [polyfill](https://github.com/formatjs/formatjs/tree/main/packages/intl-numberformat)\r\n *\r\n * @VueI18nComponent\r\n */\nconst NumberFormat = /* defineComponent */{\n  /* eslint-disable */\n  name: 'i18n-n',\n  props: shared.assign({\n    value: {\n      type: Number,\n      required: true\n    },\n    format: {\n      type: [String, Object]\n    }\n  }, baseFormatProps),\n  /* eslint-enable */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  setup(props, context) {\n    const i18n = props.i18n || useI18n({\n      useScope: 'parent',\n      __useComponent: true\n    });\n    return renderFormatter(props, context, coreBase.NUMBER_FORMAT_OPTIONS_KEYS, (...args) =>\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    i18n[NumberPartsSymbol](...args));\n  }\n};\n\n/**\r\n * Datetime Format Component\r\n *\r\n * @remarks\r\n * See the following items for property about details\r\n *\r\n * @VueI18nSee [FormattableProps](component#formattableprops)\r\n * @VueI18nSee [BaseFormatProps](component#baseformatprops)\r\n * @VueI18nSee [Custom Formatting](../guide/essentials/datetime#custom-formatting)\r\n *\r\n * @VueI18nDanger\r\n * Not supported IE, due to no support `Intl.DateTimeFormat#formatToParts` in [IE](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/DateTimeFormat/formatToParts)\r\n *\r\n * If you want to use it, you need to use [polyfill](https://github.com/formatjs/formatjs/tree/main/packages/intl-datetimeformat)\r\n *\r\n * @VueI18nComponent\r\n */\nconst DatetimeFormat = /*defineComponent */{\n  /* eslint-disable */\n  name: 'i18n-d',\n  props: shared.assign({\n    value: {\n      type: [Number, Date],\n      required: true\n    },\n    format: {\n      type: [String, Object]\n    }\n  }, baseFormatProps),\n  /* eslint-enable */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  setup(props, context) {\n    const i18n = props.i18n || useI18n({\n      useScope: 'parent',\n      __useComponent: true\n    });\n    return renderFormatter(props, context, coreBase.DATETIME_FORMAT_OPTIONS_KEYS, (...args) =>\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    i18n[DatetimePartsSymbol](...args));\n  }\n};\nfunction getComposer$1(i18n, instance) {\n  const i18nInternal = i18n;\n  if (i18n.mode === 'composition') {\n    return i18nInternal.__getInstance(instance) || i18n.global;\n  } else {\n    const vueI18n = i18nInternal.__getInstance(instance);\n    return vueI18n != null ? vueI18n.__composer : i18n.global.__composer;\n  }\n}\nfunction vTDirective(i18n) {\n  const _process = binding => {\n    const {\n      instance,\n      modifiers,\n      value\n    } = binding;\n    /* istanbul ignore if */\n    if (!instance || !instance.$) {\n      throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);\n    }\n    const composer = getComposer$1(i18n, instance.$);\n    if (modifiers.preserve) {\n      shared.warn(getWarnMessage(I18nWarnCodes.NOT_SUPPORTED_PRESERVE));\n    }\n    const parsedValue = parseValue(value);\n    return [Reflect.apply(composer.t, composer, [...makeParams(parsedValue)]), composer];\n  };\n  const register = (el, binding) => {\n    const [textContent, composer] = _process(binding);\n    if (shared.inBrowser && i18n.global === composer) {\n      // global scope only\n      el.__i18nWatcher = vue.watch(composer.locale, () => {\n        binding.instance && binding.instance.$forceUpdate();\n      });\n    }\n    el.__composer = composer;\n    el.textContent = textContent;\n  };\n  const unregister = el => {\n    if (shared.inBrowser && el.__i18nWatcher) {\n      el.__i18nWatcher();\n      el.__i18nWatcher = undefined;\n      delete el.__i18nWatcher;\n    }\n    if (el.__composer) {\n      el.__composer = undefined;\n      delete el.__composer;\n    }\n  };\n  const update = (el, {\n    value\n  }) => {\n    if (el.__composer) {\n      const composer = el.__composer;\n      const parsedValue = parseValue(value);\n      el.textContent = Reflect.apply(composer.t, composer, [...makeParams(parsedValue)]);\n    }\n  };\n  const getSSRProps = binding => {\n    const [textContent] = _process(binding);\n    return {\n      textContent\n    };\n  };\n  return {\n    created: register,\n    unmounted: unregister,\n    beforeUpdate: update,\n    getSSRProps\n  };\n}\nfunction parseValue(value) {\n  if (shared.isString(value)) {\n    return {\n      path: value\n    };\n  } else if (shared.isPlainObject(value)) {\n    if (!('path' in value)) {\n      throw createI18nError(I18nErrorCodes.REQUIRED_VALUE, 'path');\n    }\n    return value;\n  } else {\n    throw createI18nError(I18nErrorCodes.INVALID_VALUE);\n  }\n}\nfunction makeParams(value) {\n  const {\n    path,\n    locale,\n    args,\n    choice,\n    plural\n  } = value;\n  const options = {};\n  const named = args || {};\n  if (shared.isString(locale)) {\n    options.locale = locale;\n  }\n  if (shared.isNumber(choice)) {\n    options.plural = choice;\n  }\n  if (shared.isNumber(plural)) {\n    options.plural = plural;\n  }\n  return [path, named, options];\n}\nfunction apply(app, i18n, ...options) {\n  const pluginOptions = shared.isPlainObject(options[0]) ? options[0] : {};\n  const useI18nComponentName = !!pluginOptions.useI18nComponentName;\n  const globalInstall = shared.isBoolean(pluginOptions.globalInstall) ? pluginOptions.globalInstall : true;\n  if (globalInstall && useI18nComponentName) {\n    shared.warn(getWarnMessage(I18nWarnCodes.COMPONENT_NAME_LEGACY_COMPATIBLE, {\n      name: Translation.name\n    }));\n  }\n  if (globalInstall) {\n    // install components\n    app.component(!useI18nComponentName ? Translation.name : 'i18n', Translation);\n    app.component(NumberFormat.name, NumberFormat);\n    app.component(DatetimeFormat.name, DatetimeFormat);\n  }\n  // install directive\n  {\n    app.directive('t', vTDirective(i18n));\n  }\n}\n\n/**\r\n * Supports compatibility for legacy vue-i18n APIs\r\n * This mixin is used when we use vue-i18n@v9.x or later\r\n */\nfunction defineMixin(vuei18n, composer, i18n) {\n  return {\n    beforeCreate() {\n      const instance = vue.getCurrentInstance();\n      /* istanbul ignore if */\n      if (!instance) {\n        throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);\n      }\n      const options = this.$options;\n      if (options.i18n) {\n        const optionsI18n = options.i18n;\n        if (options.__i18n) {\n          optionsI18n.__i18n = options.__i18n;\n        }\n        optionsI18n.__root = composer;\n        if (this === this.$root) {\n          this.$i18n = mergeToRoot(vuei18n, optionsI18n);\n        } else {\n          optionsI18n.__injectWithOption = true;\n          this.$i18n = createVueI18n(optionsI18n);\n        }\n      } else if (options.__i18n) {\n        if (this === this.$root) {\n          this.$i18n = mergeToRoot(vuei18n, options);\n        } else {\n          this.$i18n = createVueI18n({\n            __i18n: options.__i18n,\n            __injectWithOption: true,\n            __root: composer\n          });\n        }\n      } else {\n        // set global\n        this.$i18n = vuei18n;\n      }\n      if (options.__i18nGlobal) {\n        adjustI18nResources(composer, options, options);\n      }\n      vuei18n.__onComponentInstanceCreated(this.$i18n);\n      i18n.__setInstance(instance, this.$i18n);\n      // defines vue-i18n legacy APIs\n      this.$t = (...args) => this.$i18n.t(...args);\n      this.$rt = (...args) => this.$i18n.rt(...args);\n      this.$tc = (...args) => this.$i18n.tc(...args);\n      this.$te = (key, locale) => this.$i18n.te(key, locale);\n      this.$d = (...args) => this.$i18n.d(...args);\n      this.$n = (...args) => this.$i18n.n(...args);\n      this.$tm = key => this.$i18n.tm(key);\n    },\n    mounted() {},\n    unmounted() {\n      const instance = vue.getCurrentInstance();\n      /* istanbul ignore if */\n      if (!instance) {\n        throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);\n      }\n      delete this.$t;\n      delete this.$rt;\n      delete this.$tc;\n      delete this.$te;\n      delete this.$d;\n      delete this.$n;\n      delete this.$tm;\n      i18n.__deleteInstance(instance);\n      delete this.$i18n;\n    }\n  };\n}\nfunction mergeToRoot(root, options) {\n  root.locale = options.locale || root.locale;\n  root.fallbackLocale = options.fallbackLocale || root.fallbackLocale;\n  root.missing = options.missing || root.missing;\n  root.silentTranslationWarn = options.silentTranslationWarn || root.silentFallbackWarn;\n  root.silentFallbackWarn = options.silentFallbackWarn || root.silentFallbackWarn;\n  root.formatFallbackMessages = options.formatFallbackMessages || root.formatFallbackMessages;\n  root.postTranslation = options.postTranslation || root.postTranslation;\n  root.warnHtmlInMessage = options.warnHtmlInMessage || root.warnHtmlInMessage;\n  root.escapeParameterHtml = options.escapeParameterHtml || root.escapeParameterHtml;\n  root.sync = options.sync || root.sync;\n  root.__composer[SetPluralRulesSymbol](options.pluralizationRules || root.pluralizationRules);\n  const messages = getLocaleMessages(root.locale, {\n    messages: options.messages,\n    __i18n: options.__i18n\n  });\n  Object.keys(messages).forEach(locale => root.mergeLocaleMessage(locale, messages[locale]));\n  if (options.datetimeFormats) {\n    Object.keys(options.datetimeFormats).forEach(locale => root.mergeDateTimeFormat(locale, options.datetimeFormats[locale]));\n  }\n  if (options.numberFormats) {\n    Object.keys(options.numberFormats).forEach(locale => root.mergeNumberFormat(locale, options.numberFormats[locale]));\n  }\n  return root;\n}\n\n/**\r\n * Injection key for {@link useI18n}\r\n *\r\n * @remarks\r\n * The global injection key for I18n instances with `useI18n`. this injection key is used in Web Components.\r\n * Specify the i18n instance created by {@link createI18n} together with `provide` function.\r\n *\r\n * @VueI18nGeneral\r\n */\nconst I18nInjectionKey = /* #__PURE__*/shared.makeSymbol('global-vue-i18n');\n// eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/explicit-module-boundary-types\nfunction createI18n(options = {}, VueI18nLegacy) {\n  // prettier-ignore\n  const __legacyMode = shared.isBoolean(options.legacy) ? options.legacy : true;\n  // prettier-ignore\n  const __globalInjection = shared.isBoolean(options.globalInjection) ? options.globalInjection : true;\n  // prettier-ignore\n  const __allowComposition = __legacyMode ? !!options.allowComposition : true;\n  const __instances = new Map();\n  const [globalScope, __global] = createGlobal(options, __legacyMode);\n  const symbol = shared.makeSymbol('vue-i18n');\n  function __getInstance(component) {\n    return __instances.get(component) || null;\n  }\n  function __setInstance(component, instance) {\n    __instances.set(component, instance);\n  }\n  function __deleteInstance(component) {\n    __instances.delete(component);\n  }\n  {\n    const i18n = {\n      // mode\n      get mode() {\n        return __legacyMode ? 'legacy' : 'composition';\n      },\n      // allowComposition\n      get allowComposition() {\n        return __allowComposition;\n      },\n      // install plugin\n      async install(app, ...options) {\n        // setup global provider\n        app.__VUE_I18N_SYMBOL__ = symbol;\n        app.provide(app.__VUE_I18N_SYMBOL__, i18n);\n        // global method and properties injection for Composition API\n        if (!__legacyMode && __globalInjection) {\n          injectGlobalFields(app, i18n.global);\n        }\n        // install built-in components and directive\n        {\n          apply(app, i18n, ...options);\n        }\n        // setup mixin for Legacy API\n        if (__legacyMode) {\n          app.mixin(defineMixin(__global, __global.__composer, i18n));\n        }\n        // release global scope\n        const unmountApp = app.unmount;\n        app.unmount = () => {\n          i18n.dispose();\n          unmountApp();\n        };\n      },\n      // global accessor\n      get global() {\n        return __global;\n      },\n      dispose() {\n        globalScope.stop();\n      },\n      // @internal\n      __instances,\n      // @internal\n      __getInstance,\n      // @internal\n      __setInstance,\n      // @internal\n      __deleteInstance\n    };\n    return i18n;\n  }\n}\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nfunction useI18n(options = {}) {\n  const instance = vue.getCurrentInstance();\n  if (instance == null) {\n    throw createI18nError(I18nErrorCodes.MUST_BE_CALL_SETUP_TOP);\n  }\n  if (!instance.isCE && instance.appContext.app != null && !instance.appContext.app.__VUE_I18N_SYMBOL__) {\n    throw createI18nError(I18nErrorCodes.NOT_INSLALLED);\n  }\n  const i18n = getI18nInstance(instance);\n  const global = getGlobalComposer(i18n);\n  const componentOptions = getComponentOptions(instance);\n  const scope = getScope(options, componentOptions);\n  {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    if (i18n.mode === 'legacy' && !options.__useComponent) {\n      if (!i18n.allowComposition) {\n        throw createI18nError(I18nErrorCodes.NOT_AVAILABLE_IN_LEGACY_MODE);\n      }\n      return useI18nForLegacy(instance, scope, global, options);\n    }\n  }\n  if (scope === 'global') {\n    adjustI18nResources(global, options, componentOptions);\n    return global;\n  }\n  if (scope === 'parent') {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    let composer = getComposer(i18n, instance, options.__useComponent);\n    if (composer == null) {\n      {\n        shared.warn(getWarnMessage(I18nWarnCodes.NOT_FOUND_PARENT_SCOPE));\n      }\n      composer = global;\n    }\n    return composer;\n  }\n  const i18nInternal = i18n;\n  let composer = i18nInternal.__getInstance(instance);\n  if (composer == null) {\n    const composerOptions = shared.assign({}, options);\n    if ('__i18n' in componentOptions) {\n      composerOptions.__i18n = componentOptions.__i18n;\n    }\n    if (global) {\n      composerOptions.__root = global;\n    }\n    composer = createComposer(composerOptions);\n    setupLifeCycle(i18nInternal, instance);\n    i18nInternal.__setInstance(instance, composer);\n  }\n  return composer;\n}\n/**\r\n * Cast to VueI18n legacy compatible type\r\n *\r\n * @remarks\r\n * This API is provided only with [vue-i18n-bridge](https://vue-i18n.intlify.dev/guide/migration/ways.html#what-is-vue-i18n-bridge).\r\n *\r\n * The purpose of this function is to convert an {@link I18n} instance created with {@link createI18n | createI18n(legacy: true)} into a `vue-i18n@v8.x` compatible instance of `new VueI18n` in a TypeScript environment.\r\n *\r\n * @param i18n - An instance of {@link I18n}\r\n * @returns A i18n instance which is casted to {@link VueI18n} type\r\n *\r\n * @VueI18nTip\r\n * :new: provided by **vue-i18n-bridge only**\r\n *\r\n * @VueI18nGeneral\r\n */\nconst castToVueI18n = (i18n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\n) => {\n  if (!(__VUE_I18N_BRIDGE__ in i18n)) {\n    throw createI18nError(I18nErrorCodes.NOT_COMPATIBLE_LEGACY_VUE_I18N);\n  }\n  return i18n;\n};\nfunction createGlobal(options, legacyMode, VueI18nLegacy // eslint-disable-line @typescript-eslint/no-explicit-any\n) {\n  const scope = vue.effectScope();\n  {\n    const obj = legacyMode ? scope.run(() => createVueI18n(options)) : scope.run(() => createComposer(options));\n    if (obj == null) {\n      throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);\n    }\n    return [scope, obj];\n  }\n}\nfunction getI18nInstance(instance) {\n  {\n    const i18n = vue.inject(!instance.isCE ? instance.appContext.app.__VUE_I18N_SYMBOL__ : I18nInjectionKey);\n    /* istanbul ignore if */\n    if (!i18n) {\n      throw createI18nError(!instance.isCE ? I18nErrorCodes.UNEXPECTED_ERROR : I18nErrorCodes.NOT_INSLALLED_WITH_PROVIDE);\n    }\n    return i18n;\n  }\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction getScope(options, componentOptions) {\n  // prettier-ignore\n  return shared.isEmptyObject(options) ? '__i18n' in componentOptions ? 'local' : 'global' : !options.useScope ? 'local' : options.useScope;\n}\nfunction getGlobalComposer(i18n) {\n  // prettier-ignore\n  return i18n.mode === 'composition' ? i18n.global : i18n.global.__composer;\n}\nfunction getComposer(i18n, target, useComponent = false) {\n  let composer = null;\n  const root = target.root;\n  let current = target.parent;\n  while (current != null) {\n    const i18nInternal = i18n;\n    if (i18n.mode === 'composition') {\n      composer = i18nInternal.__getInstance(current);\n    } else {\n      {\n        const vueI18n = i18nInternal.__getInstance(current);\n        if (vueI18n != null) {\n          composer = vueI18n.__composer;\n          if (useComponent && composer && !composer[InejctWithOption] // eslint-disable-line @typescript-eslint/no-explicit-any\n          ) {\n            composer = null;\n          }\n        }\n      }\n    }\n    if (composer != null) {\n      break;\n    }\n    if (root === current) {\n      break;\n    }\n    current = current.parent;\n  }\n  return composer;\n}\nfunction setupLifeCycle(i18n, target, composer) {\n  {\n    vue.onMounted(() => {}, target);\n    vue.onUnmounted(() => {\n      i18n.__deleteInstance(target);\n    }, target);\n  }\n}\nfunction useI18nForLegacy(instance, scope, root, options = {} // eslint-disable-line @typescript-eslint/no-explicit-any\n) {\n  const isLocale = scope === 'local';\n  const _composer = vue.shallowRef(null);\n  if (isLocale && instance.proxy && !(instance.proxy.$options.i18n || instance.proxy.$options.__i18n)) {\n    throw createI18nError(I18nErrorCodes.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);\n  }\n  const _inheritLocale = shared.isBoolean(options.inheritLocale) ? options.inheritLocale : true;\n  const _locale = vue.ref(\n  // prettier-ignore\n  isLocale && _inheritLocale ? root.locale.value : shared.isString(options.locale) ? options.locale : coreBase.DEFAULT_LOCALE);\n  const _fallbackLocale = vue.ref(\n  // prettier-ignore\n  isLocale && _inheritLocale ? root.fallbackLocale.value : shared.isString(options.fallbackLocale) || shared.isArray(options.fallbackLocale) || shared.isPlainObject(options.fallbackLocale) || options.fallbackLocale === false ? options.fallbackLocale : _locale.value);\n  const _messages = vue.ref(getLocaleMessages(_locale.value, options));\n  // prettier-ignore\n  const _datetimeFormats = vue.ref(shared.isPlainObject(options.datetimeFormats) ? options.datetimeFormats : {\n    [_locale.value]: {}\n  });\n  // prettier-ignore\n  const _numberFormats = vue.ref(shared.isPlainObject(options.numberFormats) ? options.numberFormats : {\n    [_locale.value]: {}\n  });\n  // prettier-ignore\n  const _missingWarn = isLocale ? root.missingWarn : shared.isBoolean(options.missingWarn) || shared.isRegExp(options.missingWarn) ? options.missingWarn : true;\n  // prettier-ignore\n  const _fallbackWarn = isLocale ? root.fallbackWarn : shared.isBoolean(options.fallbackWarn) || shared.isRegExp(options.fallbackWarn) ? options.fallbackWarn : true;\n  // prettier-ignore\n  const _fallbackRoot = isLocale ? root.fallbackRoot : shared.isBoolean(options.fallbackRoot) ? options.fallbackRoot : true;\n  // configure fall back to root\n  const _fallbackFormat = !!options.fallbackFormat;\n  // runtime missing\n  const _missing = shared.isFunction(options.missing) ? options.missing : null;\n  // postTranslation handler\n  const _postTranslation = shared.isFunction(options.postTranslation) ? options.postTranslation : null;\n  // prettier-ignore\n  const _warnHtmlMessage = isLocale ? root.warnHtmlMessage : shared.isBoolean(options.warnHtmlMessage) ? options.warnHtmlMessage : true;\n  const _escapeParameter = !!options.escapeParameter;\n  // prettier-ignore\n  const _modifiers = isLocale ? root.modifiers : shared.isPlainObject(options.modifiers) ? options.modifiers : {};\n  // pluralRules\n  const _pluralRules = options.pluralRules || isLocale && root.pluralRules;\n  // track reactivity\n  function trackReactivityValues() {\n    return [_locale.value, _fallbackLocale.value, _messages.value, _datetimeFormats.value, _numberFormats.value];\n  }\n  // locale\n  const locale = vue.computed({\n    get: () => {\n      return _composer.value ? _composer.value.locale.value : _locale.value;\n    },\n    set: val => {\n      if (_composer.value) {\n        _composer.value.locale.value = val;\n      }\n      _locale.value = val;\n    }\n  });\n  // fallbackLocale\n  const fallbackLocale = vue.computed({\n    get: () => {\n      return _composer.value ? _composer.value.fallbackLocale.value : _fallbackLocale.value;\n    },\n    set: val => {\n      if (_composer.value) {\n        _composer.value.fallbackLocale.value = val;\n      }\n      _fallbackLocale.value = val;\n    }\n  });\n  // messages\n  const messages = vue.computed(() => {\n    if (_composer.value) {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      return _composer.value.messages.value;\n    } else {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      return _messages.value;\n    }\n  });\n  const datetimeFormats = vue.computed(() => _datetimeFormats.value);\n  const numberFormats = vue.computed(() => _numberFormats.value);\n  function getPostTranslationHandler() {\n    return _composer.value ? _composer.value.getPostTranslationHandler() : _postTranslation;\n  }\n  function setPostTranslationHandler(handler) {\n    if (_composer.value) {\n      _composer.value.setPostTranslationHandler(handler);\n    }\n  }\n  function getMissingHandler() {\n    return _composer.value ? _composer.value.getMissingHandler() : _missing;\n  }\n  function setMissingHandler(handler) {\n    if (_composer.value) {\n      _composer.value.setMissingHandler(handler);\n    }\n  }\n  function warpWithDeps(fn) {\n    trackReactivityValues();\n    return fn();\n  }\n  function t(...args) {\n    return _composer.value ? warpWithDeps(() => Reflect.apply(_composer.value.t, null, [...args])) : warpWithDeps(() => '');\n  }\n  function rt(...args) {\n    return _composer.value ? Reflect.apply(_composer.value.rt, null, [...args]) : '';\n  }\n  function d(...args) {\n    return _composer.value ? warpWithDeps(() => Reflect.apply(_composer.value.d, null, [...args])) : warpWithDeps(() => '');\n  }\n  function n(...args) {\n    return _composer.value ? warpWithDeps(() => Reflect.apply(_composer.value.n, null, [...args])) : warpWithDeps(() => '');\n  }\n  function tm(key) {\n    return _composer.value ? _composer.value.tm(key) : {};\n  }\n  function te(key, locale) {\n    return _composer.value ? _composer.value.te(key, locale) : false;\n  }\n  function getLocaleMessage(locale) {\n    return _composer.value ? _composer.value.getLocaleMessage(locale) : {};\n  }\n  function setLocaleMessage(locale, message) {\n    if (_composer.value) {\n      _composer.value.setLocaleMessage(locale, message);\n      _messages.value[locale] = message;\n    }\n  }\n  function mergeLocaleMessage(locale, message) {\n    if (_composer.value) {\n      _composer.value.mergeLocaleMessage(locale, message);\n    }\n  }\n  function getDateTimeFormat(locale) {\n    return _composer.value ? _composer.value.getDateTimeFormat(locale) : {};\n  }\n  function setDateTimeFormat(locale, format) {\n    if (_composer.value) {\n      _composer.value.setDateTimeFormat(locale, format);\n      _datetimeFormats.value[locale] = format;\n    }\n  }\n  function mergeDateTimeFormat(locale, format) {\n    if (_composer.value) {\n      _composer.value.mergeDateTimeFormat(locale, format);\n    }\n  }\n  function getNumberFormat(locale) {\n    return _composer.value ? _composer.value.getNumberFormat(locale) : {};\n  }\n  function setNumberFormat(locale, format) {\n    if (_composer.value) {\n      _composer.value.setNumberFormat(locale, format);\n      _numberFormats.value[locale] = format;\n    }\n  }\n  function mergeNumberFormat(locale, format) {\n    if (_composer.value) {\n      _composer.value.mergeNumberFormat(locale, format);\n    }\n  }\n  const wrapper = {\n    get id() {\n      return _composer.value ? _composer.value.id : -1;\n    },\n    locale,\n    fallbackLocale,\n    messages,\n    datetimeFormats,\n    numberFormats,\n    get inheritLocale() {\n      return _composer.value ? _composer.value.inheritLocale : _inheritLocale;\n    },\n    set inheritLocale(val) {\n      if (_composer.value) {\n        _composer.value.inheritLocale = val;\n      }\n    },\n    get availableLocales() {\n      return _composer.value ? _composer.value.availableLocales : Object.keys(_messages.value);\n    },\n    get modifiers() {\n      return _composer.value ? _composer.value.modifiers : _modifiers;\n    },\n    get pluralRules() {\n      return _composer.value ? _composer.value.pluralRules : _pluralRules;\n    },\n    get isGlobal() {\n      return _composer.value ? _composer.value.isGlobal : false;\n    },\n    get missingWarn() {\n      return _composer.value ? _composer.value.missingWarn : _missingWarn;\n    },\n    set missingWarn(val) {\n      if (_composer.value) {\n        _composer.value.missingWarn = val;\n      }\n    },\n    get fallbackWarn() {\n      return _composer.value ? _composer.value.fallbackWarn : _fallbackWarn;\n    },\n    set fallbackWarn(val) {\n      if (_composer.value) {\n        _composer.value.missingWarn = val;\n      }\n    },\n    get fallbackRoot() {\n      return _composer.value ? _composer.value.fallbackRoot : _fallbackRoot;\n    },\n    set fallbackRoot(val) {\n      if (_composer.value) {\n        _composer.value.fallbackRoot = val;\n      }\n    },\n    get fallbackFormat() {\n      return _composer.value ? _composer.value.fallbackFormat : _fallbackFormat;\n    },\n    set fallbackFormat(val) {\n      if (_composer.value) {\n        _composer.value.fallbackFormat = val;\n      }\n    },\n    get warnHtmlMessage() {\n      return _composer.value ? _composer.value.warnHtmlMessage : _warnHtmlMessage;\n    },\n    set warnHtmlMessage(val) {\n      if (_composer.value) {\n        _composer.value.warnHtmlMessage = val;\n      }\n    },\n    get escapeParameter() {\n      return _composer.value ? _composer.value.escapeParameter : _escapeParameter;\n    },\n    set escapeParameter(val) {\n      if (_composer.value) {\n        _composer.value.escapeParameter = val;\n      }\n    },\n    t,\n    getPostTranslationHandler,\n    setPostTranslationHandler,\n    getMissingHandler,\n    setMissingHandler,\n    rt,\n    d,\n    n,\n    tm,\n    te,\n    getLocaleMessage,\n    setLocaleMessage,\n    mergeLocaleMessage,\n    getDateTimeFormat,\n    setDateTimeFormat,\n    mergeDateTimeFormat,\n    getNumberFormat,\n    setNumberFormat,\n    mergeNumberFormat\n  };\n  function sync(composer) {\n    composer.locale.value = _locale.value;\n    composer.fallbackLocale.value = _fallbackLocale.value;\n    Object.keys(_messages.value).forEach(locale => {\n      composer.mergeLocaleMessage(locale, _messages.value[locale]);\n    });\n    Object.keys(_datetimeFormats.value).forEach(locale => {\n      composer.mergeDateTimeFormat(locale, _datetimeFormats.value[locale]);\n    });\n    Object.keys(_numberFormats.value).forEach(locale => {\n      composer.mergeNumberFormat(locale, _numberFormats.value[locale]);\n    });\n    composer.escapeParameter = _escapeParameter;\n    composer.fallbackFormat = _fallbackFormat;\n    composer.fallbackRoot = _fallbackRoot;\n    composer.fallbackWarn = _fallbackWarn;\n    composer.missingWarn = _missingWarn;\n    composer.warnHtmlMessage = _warnHtmlMessage;\n  }\n  vue.onBeforeMount(() => {\n    if (instance.proxy == null || instance.proxy.$i18n == null) {\n      throw createI18nError(I18nErrorCodes.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const composer = _composer.value = instance.proxy.$i18n.__composer;\n    if (scope === 'global') {\n      _locale.value = composer.locale.value;\n      _fallbackLocale.value = composer.fallbackLocale.value;\n      _messages.value = composer.messages.value;\n      _datetimeFormats.value = composer.datetimeFormats.value;\n      _numberFormats.value = composer.numberFormats.value;\n    } else if (isLocale) {\n      sync(composer);\n    }\n  });\n  return wrapper;\n}\nconst globalExportProps = ['locale', 'fallbackLocale', 'availableLocales'];\nconst globalExportMethods = ['t', 'rt', 'd', 'n', 'tm'];\nfunction injectGlobalFields(app, composer) {\n  const i18n = Object.create(null);\n  globalExportProps.forEach(prop => {\n    const desc = Object.getOwnPropertyDescriptor(composer, prop);\n    if (!desc) {\n      throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);\n    }\n    const wrap = vue.isRef(desc.value) // check computed props\n    ? {\n      get() {\n        return desc.value.value;\n      },\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      set(val) {\n        desc.value.value = val;\n      }\n    } : {\n      get() {\n        return desc.get && desc.get();\n      }\n    };\n    Object.defineProperty(i18n, prop, wrap);\n  });\n  app.config.globalProperties.$i18n = i18n;\n  globalExportMethods.forEach(method => {\n    const desc = Object.getOwnPropertyDescriptor(composer, method);\n    if (!desc || !desc.value) {\n      throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);\n    }\n    Object.defineProperty(app.config.globalProperties, `$${method}`, desc);\n  });\n}\n\n// register message compiler at vue-i18n\ncoreBase.registerMessageCompiler(coreBase.compileToFunction);\n// register message resolver at vue-i18n\ncoreBase.registerMessageResolver(coreBase.resolveValue);\n// register fallback locale at vue-i18n\ncoreBase.registerLocaleFallbacker(coreBase.fallbackWithLocaleChain);\n// NOTE: experimental !!\n{\n  const target = shared.getGlobalThis();\n  target.__INTLIFY__ = true;\n  coreBase.setDevToolsHook(target.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__);\n}\nexports.DatetimeFormat = DatetimeFormat;\nexports.I18nInjectionKey = I18nInjectionKey;\nexports.NumberFormat = NumberFormat;\nexports.Translation = Translation;\nexports.VERSION = VERSION;\nexports.castToVueI18n = castToVueI18n;\nexports.createI18n = createI18n;\nexports.useI18n = useI18n;\nexports.vTDirective = vTDirective;","map":{"version":3,"names":["Object","defineProperty","exports","value","shared","require","coreBase","vue","VERSION","code$1","CoreWarnCodes","__EXTEND_POINT__","inc$1","I18nWarnCodes","FALLBACK_TO_ROOT","NOT_SUPPORTED_PRESERVE","NOT_SUPPORTED_FORMATTER","NOT_SUPPORTED_PRESERVE_DIRECTIVE","NOT_SUPPORTED_GET_CHOICE_INDEX","COMPONENT_NAME_LEGACY_COMPATIBLE","NOT_FOUND_PARENT_SCOPE","warnMessages","getWarnMessage","code","args","format","CompileErrorCodes","inc","I18nErrorCodes","UNEXPECTED_RETURN_TYPE","INVALID_ARGUMENT","MUST_BE_CALL_SETUP_TOP","NOT_INSLALLED","NOT_AVAILABLE_IN_LEGACY_MODE","REQUIRED_VALUE","INVALID_VALUE","CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN","NOT_INSLALLED_WITH_PROVIDE","UNEXPECTED_ERROR","NOT_COMPATIBLE_LEGACY_VUE_I18N","BRIDGE_SUPPORT_VUE_2_ONLY","MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION","NOT_AVAILABLE_COMPOSITION_IN_LEGACY","createI18nError","createCompileError","messages","errorMessages","TransrateVNodeSymbol","makeSymbol","DatetimePartsSymbol","NumberPartsSymbol","EnableEmitter","DisableEmitter","SetPluralRulesSymbol","InejctWithOption","__VUE_I18N_BRIDGE__","handleFlatJson","obj","isObject","key","hasOwn","includes","subKeys","split","lastIndex","length","currentObj","i","getLocaleMessages","locale","options","__i18n","messageResolver","flatJson","ret","isPlainObject","isArray","forEach","custom","resource","deepCopy","isString","JSON","parse","isNotObjectOrIsArray","val","src","des","getComponentOptions","instance","type","adjustI18nResources","global","componentOptions","__i18nGlobal","locales","keys","mergeLocaleMessage","datetimeFormats","mergeDateTimeFormat","numberFormats","mergeNumberFormat","createTextNode","createVNode","Text","DEVTOOLS_META","composerID","defineCoreMissingHandler","missing","ctx","getCurrentInstance","undefined","getMetaInfo","meta","createComposer","VueI18nLegacy","__root","_isGlobal","_inheritLocale","isBoolean","inheritLocale","_locale","ref","DEFAULT_LOCALE","_fallbackLocale","fallbackLocale","_messages","_datetimeFormats","_numberFormats","_missingWarn","missingWarn","isRegExp","_fallbackWarn","fallbackWarn","_fallbackRoot","fallbackRoot","_fallbackFormat","fallbackFormat","_missing","isFunction","_runtimeMissing","_postTranslation","postTranslation","_warnHtmlMessage","warnHtmlMessage","_escapeParameter","escapeParameter","_modifiers","modifiers","_pluralRules","pluralRules","_context","getCoreContext","setFallbackContext","ctxOptions","version","unresolving","__meta","framework","__datetimeFormatters","__numberFormatters","__v_emitter","createCoreContext","updateFallbackLocale","trackReactivityValues","computed","get","set","getPostTranslationHandler","setPostTranslationHandler","handler","getMissingHandler","setMissingHandler","isResolvedTranslateMessage","arg","resolvedMessage","wrapWithDeps","fn","argumentParser","warnType","fallbackSuccess","fallbackFail","successCondition","setAdditionalMeta","fallbackContext","getFallbackContext","isNumber","NOT_REOSLVED","arg2","isTranslateFallbackWarn","isTranslateMissingWarn","warn","emitter","emit","to","groupId","t","context","Reflect","apply","translate","parseTranslateArgs","root","rt","arg1","arg3","assign","d","datetime","parseDateTimeArgs","MISSING_RESOLVE_VALUE","n","number","parseNumberArgs","normalize","values","map","String","interpolate","processor","transrateVNode","numberParts","datetimeParts","setPluralRules","rules","te","targetLocale","message","getLocaleMessage","resolveMessages","fallbackWithLocaleChain","targetLocaleMessages","messageValue","tm","setLocaleMessage","getDateTimeFormat","setDateTimeFormat","clearDateTimeFormat","getNumberFormat","setNumberFormat","clearNumberFormat","inBrowser","watch","composer","id","availableLocales","sort","isGlobal","__injectWithOption","convertComposerOptions","silentTranslationWarn","silentFallbackWarn","formatFallbackMessages","pluralizationRules","warnHtmlInMessage","escapeParameterHtml","sync","formatter","preserveDirectiveContent","sharedMessages","reduce","createVueI18n","vueI18n","__composer","list","named","tc","plural","getChoiceIndex","choice","choicesLength","__onComponentInstanceCreated","target","componentInstanceCreatedListener","__enableEmitter","__disableEmitter","baseFormatProps","tag","scope","validator","default","i18n","getInterpolateArg","slots","slot","current","children","getFragmentableTag","Fragment","Translation","name","props","keypath","required","Number","isNaN","setup","attrs","useI18n","useScope","__useComponent","filter","assignedAttrs","h","isVNode","renderFormatter","slotKeys","partFormatter","part","overrides","prop","parts","index","node","NumberFormat","NUMBER_FORMAT_OPTIONS_KEYS","DatetimeFormat","Date","DATETIME_FORMAT_OPTIONS_KEYS","getComposer$1","i18nInternal","mode","__getInstance","vTDirective","_process","binding","$","preserve","parsedValue","parseValue","makeParams","register","el","textContent","__i18nWatcher","$forceUpdate","unregister","update","getSSRProps","created","unmounted","beforeUpdate","path","app","pluginOptions","useI18nComponentName","globalInstall","component","directive","defineMixin","vuei18n","beforeCreate","$options","optionsI18n","$root","$i18n","mergeToRoot","__setInstance","$t","$rt","$tc","$te","$d","$n","$tm","mounted","__deleteInstance","I18nInjectionKey","createI18n","__legacyMode","legacy","__globalInjection","globalInjection","__allowComposition","allowComposition","__instances","Map","globalScope","__global","createGlobal","symbol","delete","install","__VUE_I18N_SYMBOL__","provide","injectGlobalFields","mixin","unmountApp","unmount","dispose","stop","isCE","appContext","getI18nInstance","getGlobalComposer","getScope","useI18nForLegacy","getComposer","composerOptions","setupLifeCycle","castToVueI18n","legacyMode","effectScope","run","inject","isEmptyObject","useComponent","parent","onMounted","onUnmounted","isLocale","_composer","shallowRef","proxy","warpWithDeps","wrapper","onBeforeMount","globalExportProps","globalExportMethods","create","desc","getOwnPropertyDescriptor","wrap","isRef","config","globalProperties","method","registerMessageCompiler","compileToFunction","registerMessageResolver","resolveValue","registerLocaleFallbacker","getGlobalThis","__INTLIFY__","setDevToolsHook","__INTLIFY_DEVTOOLS_GLOBAL_HOOK__"],"sources":["/Users/yanbinru/Desktop/代码/github/vue3-knowledge/node_modules/vue-i18n/dist/vue-i18n.cjs.js"],"sourcesContent":["/*!\n  * vue-i18n v9.2.2\n  * (c) 2022 kazuya kawaguchi\n  * Released under the MIT License.\n  */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar shared = require('@intlify/shared');\nvar coreBase = require('@intlify/core-base');\nvar vue = require('vue');\n\n/**\r\n * Vue I18n Version\r\n *\r\n * @remarks\r\n * Semver format. Same format as the package.json `version` field.\r\n *\r\n * @VueI18nGeneral\r\n */\r\nconst VERSION = '9.2.2';\n\nlet code$1 = coreBase.CoreWarnCodes.__EXTEND_POINT__;\r\nconst inc$1 = () => ++code$1;\r\nconst I18nWarnCodes = {\r\n    FALLBACK_TO_ROOT: code$1,\r\n    NOT_SUPPORTED_PRESERVE: inc$1(),\r\n    NOT_SUPPORTED_FORMATTER: inc$1(),\r\n    NOT_SUPPORTED_PRESERVE_DIRECTIVE: inc$1(),\r\n    NOT_SUPPORTED_GET_CHOICE_INDEX: inc$1(),\r\n    COMPONENT_NAME_LEGACY_COMPATIBLE: inc$1(),\r\n    NOT_FOUND_PARENT_SCOPE: inc$1() // 13\r\n};\r\nconst warnMessages = {\r\n    [I18nWarnCodes.FALLBACK_TO_ROOT]: `Fall back to {type} '{key}' with root locale.`,\r\n    [I18nWarnCodes.NOT_SUPPORTED_PRESERVE]: `Not supported 'preserve'.`,\r\n    [I18nWarnCodes.NOT_SUPPORTED_FORMATTER]: `Not supported 'formatter'.`,\r\n    [I18nWarnCodes.NOT_SUPPORTED_PRESERVE_DIRECTIVE]: `Not supported 'preserveDirectiveContent'.`,\r\n    [I18nWarnCodes.NOT_SUPPORTED_GET_CHOICE_INDEX]: `Not supported 'getChoiceIndex'.`,\r\n    [I18nWarnCodes.COMPONENT_NAME_LEGACY_COMPATIBLE]: `Component name legacy compatible: '{name}' -> 'i18n'`,\r\n    [I18nWarnCodes.NOT_FOUND_PARENT_SCOPE]: `Not found parent scope. use the global scope.`\r\n};\r\nfunction getWarnMessage(code, ...args) {\r\n    return shared.format(warnMessages[code], ...args);\r\n}\n\nlet code = coreBase.CompileErrorCodes.__EXTEND_POINT__;\r\nconst inc = () => ++code;\r\nconst I18nErrorCodes = {\r\n    // composer module errors\r\n    UNEXPECTED_RETURN_TYPE: code,\r\n    // legacy module errors\r\n    INVALID_ARGUMENT: inc(),\r\n    // i18n module errors\r\n    MUST_BE_CALL_SETUP_TOP: inc(),\r\n    NOT_INSLALLED: inc(),\r\n    NOT_AVAILABLE_IN_LEGACY_MODE: inc(),\r\n    // directive module errors\r\n    REQUIRED_VALUE: inc(),\r\n    INVALID_VALUE: inc(),\r\n    // vue-devtools errors\r\n    CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN: inc(),\r\n    NOT_INSLALLED_WITH_PROVIDE: inc(),\r\n    // unexpected error\r\n    UNEXPECTED_ERROR: inc(),\r\n    // not compatible legacy vue-i18n constructor\r\n    NOT_COMPATIBLE_LEGACY_VUE_I18N: inc(),\r\n    // bridge support vue 2.x only\r\n    BRIDGE_SUPPORT_VUE_2_ONLY: inc(),\r\n    // need to define `i18n` option in `allowComposition: true` and `useScope: 'local' at `useI18n``\r\n    MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION: inc(),\r\n    // Not available Compostion API in Legacy API mode. Please make sure that the legacy API mode is working properly\r\n    NOT_AVAILABLE_COMPOSITION_IN_LEGACY: inc(),\r\n    // for enhancement\r\n    __EXTEND_POINT__: inc() // 29\r\n};\r\nfunction createI18nError(code, ...args) {\r\n    return coreBase.createCompileError(code, null, { messages: errorMessages, args } );\r\n}\r\nconst errorMessages = {\r\n    [I18nErrorCodes.UNEXPECTED_RETURN_TYPE]: 'Unexpected return type in composer',\r\n    [I18nErrorCodes.INVALID_ARGUMENT]: 'Invalid argument',\r\n    [I18nErrorCodes.MUST_BE_CALL_SETUP_TOP]: 'Must be called at the top of a `setup` function',\r\n    [I18nErrorCodes.NOT_INSLALLED]: 'Need to install with `app.use` function',\r\n    [I18nErrorCodes.UNEXPECTED_ERROR]: 'Unexpected error',\r\n    [I18nErrorCodes.NOT_AVAILABLE_IN_LEGACY_MODE]: 'Not available in legacy mode',\r\n    [I18nErrorCodes.REQUIRED_VALUE]: `Required in value: {0}`,\r\n    [I18nErrorCodes.INVALID_VALUE]: `Invalid value`,\r\n    [I18nErrorCodes.CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN]: `Cannot setup vue-devtools plugin`,\r\n    [I18nErrorCodes.NOT_INSLALLED_WITH_PROVIDE]: 'Need to install with `provide` function',\r\n    [I18nErrorCodes.NOT_COMPATIBLE_LEGACY_VUE_I18N]: 'Not compatible legacy VueI18n.',\r\n    [I18nErrorCodes.BRIDGE_SUPPORT_VUE_2_ONLY]: 'vue-i18n-bridge support Vue 2.x only',\r\n    [I18nErrorCodes.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION]: 'Must define ‘i18n’ option or custom block in Composition API with using local scope in Legacy API mode',\r\n    [I18nErrorCodes.NOT_AVAILABLE_COMPOSITION_IN_LEGACY]: 'Not available Compostion API in Legacy API mode. Please make sure that the legacy API mode is working properly'\r\n};\n\nconst TransrateVNodeSymbol = \r\n/* #__PURE__*/ shared.makeSymbol('__transrateVNode');\r\nconst DatetimePartsSymbol = /* #__PURE__*/ shared.makeSymbol('__datetimeParts');\r\nconst NumberPartsSymbol = /* #__PURE__*/ shared.makeSymbol('__numberParts');\r\nconst EnableEmitter = /* #__PURE__*/ shared.makeSymbol('__enableEmitter');\r\nconst DisableEmitter = /* #__PURE__*/ shared.makeSymbol('__disableEmitter');\r\nconst SetPluralRulesSymbol = shared.makeSymbol('__setPluralRules');\r\nshared.makeSymbol('__intlifyMeta');\r\nconst InejctWithOption = /* #__PURE__*/ shared.makeSymbol('__injectWithOption');\r\nconst __VUE_I18N_BRIDGE__ =  '__VUE_I18N_BRIDGE__';\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\n/**\r\n * Transform flat json in obj to normal json in obj\r\n */\r\nfunction handleFlatJson(obj) {\r\n    // check obj\r\n    if (!shared.isObject(obj)) {\r\n        return obj;\r\n    }\r\n    for (const key in obj) {\r\n        // check key\r\n        if (!shared.hasOwn(obj, key)) {\r\n            continue;\r\n        }\r\n        // handle for normal json\r\n        if (!key.includes('.')) {\r\n            // recursive process value if value is also a object\r\n            if (shared.isObject(obj[key])) {\r\n                handleFlatJson(obj[key]);\r\n            }\r\n        }\r\n        // handle for flat json, transform to normal json\r\n        else {\r\n            // go to the last object\r\n            const subKeys = key.split('.');\r\n            const lastIndex = subKeys.length - 1;\r\n            let currentObj = obj;\r\n            for (let i = 0; i < lastIndex; i++) {\r\n                if (!(subKeys[i] in currentObj)) {\r\n                    currentObj[subKeys[i]] = {};\r\n                }\r\n                currentObj = currentObj[subKeys[i]];\r\n            }\r\n            // update last object value, delete old property\r\n            currentObj[subKeys[lastIndex]] = obj[key];\r\n            delete obj[key];\r\n            // recursive process value if value is also a object\r\n            if (shared.isObject(currentObj[subKeys[lastIndex]])) {\r\n                handleFlatJson(currentObj[subKeys[lastIndex]]);\r\n            }\r\n        }\r\n    }\r\n    return obj;\r\n}\r\nfunction getLocaleMessages(locale, options) {\r\n    const { messages, __i18n, messageResolver, flatJson } = options;\r\n    // prettier-ignore\r\n    const ret = shared.isPlainObject(messages)\r\n        ? messages\r\n        : shared.isArray(__i18n)\r\n            ? {}\r\n            : { [locale]: {} };\r\n    // merge locale messages of i18n custom block\r\n    if (shared.isArray(__i18n)) {\r\n        __i18n.forEach(custom => {\r\n            if ('locale' in custom && 'resource' in custom) {\r\n                const { locale, resource } = custom;\r\n                if (locale) {\r\n                    ret[locale] = ret[locale] || {};\r\n                    deepCopy(resource, ret[locale]);\r\n                }\r\n                else {\r\n                    deepCopy(resource, ret);\r\n                }\r\n            }\r\n            else {\r\n                shared.isString(custom) && deepCopy(JSON.parse(custom), ret);\r\n            }\r\n        });\r\n    }\r\n    // handle messages for flat json\r\n    if (messageResolver == null && flatJson) {\r\n        for (const key in ret) {\r\n            if (shared.hasOwn(ret, key)) {\r\n                handleFlatJson(ret[key]);\r\n            }\r\n        }\r\n    }\r\n    return ret;\r\n}\r\nconst isNotObjectOrIsArray = (val) => !shared.isObject(val) || shared.isArray(val);\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/explicit-module-boundary-types\r\nfunction deepCopy(src, des) {\r\n    // src and des should both be objects, and non of then can be a array\r\n    if (isNotObjectOrIsArray(src) || isNotObjectOrIsArray(des)) {\r\n        throw createI18nError(I18nErrorCodes.INVALID_VALUE);\r\n    }\r\n    for (const key in src) {\r\n        if (shared.hasOwn(src, key)) {\r\n            if (isNotObjectOrIsArray(src[key]) || isNotObjectOrIsArray(des[key])) {\r\n                // replace with src[key] when:\r\n                // src[key] or des[key] is not a object, or\r\n                // src[key] or des[key] is a array\r\n                des[key] = src[key];\r\n            }\r\n            else {\r\n                // src[key] and des[key] are both object, merge them\r\n                deepCopy(src[key], des[key]);\r\n            }\r\n        }\r\n    }\r\n}\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfunction getComponentOptions(instance) {\r\n    return instance.type ;\r\n}\r\nfunction adjustI18nResources(global, options, componentOptions // eslint-disable-line @typescript-eslint/no-explicit-any\r\n) {\r\n    let messages = shared.isObject(options.messages) ? options.messages : {};\r\n    if ('__i18nGlobal' in componentOptions) {\r\n        messages = getLocaleMessages(global.locale.value, {\r\n            messages,\r\n            __i18n: componentOptions.__i18nGlobal\r\n        });\r\n    }\r\n    // merge locale messages\r\n    const locales = Object.keys(messages);\r\n    if (locales.length) {\r\n        locales.forEach(locale => {\r\n            global.mergeLocaleMessage(locale, messages[locale]);\r\n        });\r\n    }\r\n    {\r\n        // merge datetime formats\r\n        if (shared.isObject(options.datetimeFormats)) {\r\n            const locales = Object.keys(options.datetimeFormats);\r\n            if (locales.length) {\r\n                locales.forEach(locale => {\r\n                    global.mergeDateTimeFormat(locale, options.datetimeFormats[locale]);\r\n                });\r\n            }\r\n        }\r\n        // merge number formats\r\n        if (shared.isObject(options.numberFormats)) {\r\n            const locales = Object.keys(options.numberFormats);\r\n            if (locales.length) {\r\n                locales.forEach(locale => {\r\n                    global.mergeNumberFormat(locale, options.numberFormats[locale]);\r\n                });\r\n            }\r\n        }\r\n    }\r\n}\r\nfunction createTextNode(key) {\r\n    return vue.createVNode(vue.Text, null, key, 0)\r\n        ;\r\n}\r\n/* eslint-enable @typescript-eslint/no-explicit-any */\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\n// extend VNode interface\r\nconst DEVTOOLS_META = '__INTLIFY_META__';\r\nlet composerID = 0;\r\nfunction defineCoreMissingHandler(missing) {\r\n    return ((ctx, locale, key, type) => {\r\n        return missing(locale, key, vue.getCurrentInstance() || undefined, type);\r\n    });\r\n}\r\n// for Intlify DevTools\r\nconst getMetaInfo =  () => {\r\n    const instance = vue.getCurrentInstance();\r\n    let meta = null; // eslint-disable-line @typescript-eslint/no-explicit-any\r\n    return instance && (meta = getComponentOptions(instance)[DEVTOOLS_META])\r\n        ? { [DEVTOOLS_META]: meta } // eslint-disable-line @typescript-eslint/no-explicit-any\r\n        : null;\r\n};\r\n/**\r\n * Create composer interface factory\r\n *\r\n * @internal\r\n */\r\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\r\nfunction createComposer(options = {}, VueI18nLegacy) {\r\n    const { __root } = options;\r\n    const _isGlobal = __root === undefined;\r\n    let _inheritLocale = shared.isBoolean(options.inheritLocale)\r\n        ? options.inheritLocale\r\n        : true;\r\n    const _locale = vue.ref(\r\n    // prettier-ignore\r\n    __root && _inheritLocale\r\n        ? __root.locale.value\r\n        : shared.isString(options.locale)\r\n            ? options.locale\r\n            : coreBase.DEFAULT_LOCALE);\r\n    const _fallbackLocale = vue.ref(\r\n    // prettier-ignore\r\n    __root && _inheritLocale\r\n        ? __root.fallbackLocale.value\r\n        : shared.isString(options.fallbackLocale) ||\r\n            shared.isArray(options.fallbackLocale) ||\r\n            shared.isPlainObject(options.fallbackLocale) ||\r\n            options.fallbackLocale === false\r\n            ? options.fallbackLocale\r\n            : _locale.value);\r\n    const _messages = vue.ref(getLocaleMessages(_locale.value, options));\r\n    // prettier-ignore\r\n    const _datetimeFormats = vue.ref(shared.isPlainObject(options.datetimeFormats)\r\n            ? options.datetimeFormats\r\n            : { [_locale.value]: {} })\r\n        ;\r\n    // prettier-ignore\r\n    const _numberFormats = vue.ref(shared.isPlainObject(options.numberFormats)\r\n            ? options.numberFormats\r\n            : { [_locale.value]: {} })\r\n        ;\r\n    // warning suppress options\r\n    // prettier-ignore\r\n    let _missingWarn = __root\r\n        ? __root.missingWarn\r\n        : shared.isBoolean(options.missingWarn) || shared.isRegExp(options.missingWarn)\r\n            ? options.missingWarn\r\n            : true;\r\n    // prettier-ignore\r\n    let _fallbackWarn = __root\r\n        ? __root.fallbackWarn\r\n        : shared.isBoolean(options.fallbackWarn) || shared.isRegExp(options.fallbackWarn)\r\n            ? options.fallbackWarn\r\n            : true;\r\n    // prettier-ignore\r\n    let _fallbackRoot = __root\r\n        ? __root.fallbackRoot\r\n        : shared.isBoolean(options.fallbackRoot)\r\n            ? options.fallbackRoot\r\n            : true;\r\n    // configure fall back to root\r\n    let _fallbackFormat = !!options.fallbackFormat;\r\n    // runtime missing\r\n    let _missing = shared.isFunction(options.missing) ? options.missing : null;\r\n    let _runtimeMissing = shared.isFunction(options.missing)\r\n        ? defineCoreMissingHandler(options.missing)\r\n        : null;\r\n    // postTranslation handler\r\n    let _postTranslation = shared.isFunction(options.postTranslation)\r\n        ? options.postTranslation\r\n        : null;\r\n    // prettier-ignore\r\n    let _warnHtmlMessage = __root\r\n        ? __root.warnHtmlMessage\r\n        : shared.isBoolean(options.warnHtmlMessage)\r\n            ? options.warnHtmlMessage\r\n            : true;\r\n    let _escapeParameter = !!options.escapeParameter;\r\n    // custom linked modifiers\r\n    // prettier-ignore\r\n    const _modifiers = __root\r\n        ? __root.modifiers\r\n        : shared.isPlainObject(options.modifiers)\r\n            ? options.modifiers\r\n            : {};\r\n    // pluralRules\r\n    let _pluralRules = options.pluralRules || (__root && __root.pluralRules);\r\n    // runtime context\r\n    // eslint-disable-next-line prefer-const\r\n    let _context;\r\n    const getCoreContext = () => {\r\n        _isGlobal && coreBase.setFallbackContext(null);\r\n        const ctxOptions = {\r\n            version: VERSION,\r\n            locale: _locale.value,\r\n            fallbackLocale: _fallbackLocale.value,\r\n            messages: _messages.value,\r\n            modifiers: _modifiers,\r\n            pluralRules: _pluralRules,\r\n            missing: _runtimeMissing === null ? undefined : _runtimeMissing,\r\n            missingWarn: _missingWarn,\r\n            fallbackWarn: _fallbackWarn,\r\n            fallbackFormat: _fallbackFormat,\r\n            unresolving: true,\r\n            postTranslation: _postTranslation === null ? undefined : _postTranslation,\r\n            warnHtmlMessage: _warnHtmlMessage,\r\n            escapeParameter: _escapeParameter,\r\n            messageResolver: options.messageResolver,\r\n            __meta: { framework: 'vue' }\r\n        };\r\n        {\r\n            ctxOptions.datetimeFormats = _datetimeFormats.value;\r\n            ctxOptions.numberFormats = _numberFormats.value;\r\n            ctxOptions.__datetimeFormatters = shared.isPlainObject(_context)\r\n                ? _context.__datetimeFormatters\r\n                : undefined;\r\n            ctxOptions.__numberFormatters = shared.isPlainObject(_context)\r\n                ? _context.__numberFormatters\r\n                : undefined;\r\n        }\r\n        {\r\n            ctxOptions.__v_emitter = shared.isPlainObject(_context)\r\n                ? _context.__v_emitter\r\n                : undefined;\r\n        }\r\n        const ctx = coreBase.createCoreContext(ctxOptions);\r\n        _isGlobal && coreBase.setFallbackContext(ctx);\r\n        return ctx;\r\n    };\r\n    _context = getCoreContext();\r\n    coreBase.updateFallbackLocale(_context, _locale.value, _fallbackLocale.value);\r\n    // track reactivity\r\n    function trackReactivityValues() {\r\n        return [\r\n                _locale.value,\r\n                _fallbackLocale.value,\r\n                _messages.value,\r\n                _datetimeFormats.value,\r\n                _numberFormats.value\r\n            ]\r\n            ;\r\n    }\r\n    // locale\r\n    const locale = vue.computed({\r\n        get: () => _locale.value,\r\n        set: val => {\r\n            _locale.value = val;\r\n            _context.locale = _locale.value;\r\n        }\r\n    });\r\n    // fallbackLocale\r\n    const fallbackLocale = vue.computed({\r\n        get: () => _fallbackLocale.value,\r\n        set: val => {\r\n            _fallbackLocale.value = val;\r\n            _context.fallbackLocale = _fallbackLocale.value;\r\n            coreBase.updateFallbackLocale(_context, _locale.value, val);\r\n        }\r\n    });\r\n    // messages\r\n    const messages = vue.computed(() => _messages.value);\r\n    // datetimeFormats\r\n    const datetimeFormats = /* #__PURE__*/ vue.computed(() => _datetimeFormats.value);\r\n    // numberFormats\r\n    const numberFormats = /* #__PURE__*/ vue.computed(() => _numberFormats.value);\r\n    // getPostTranslationHandler\r\n    function getPostTranslationHandler() {\r\n        return shared.isFunction(_postTranslation) ? _postTranslation : null;\r\n    }\r\n    // setPostTranslationHandler\r\n    function setPostTranslationHandler(handler) {\r\n        _postTranslation = handler;\r\n        _context.postTranslation = handler;\r\n    }\r\n    // getMissingHandler\r\n    function getMissingHandler() {\r\n        return _missing;\r\n    }\r\n    // setMissingHandler\r\n    function setMissingHandler(handler) {\r\n        if (handler !== null) {\r\n            _runtimeMissing = defineCoreMissingHandler(handler);\r\n        }\r\n        _missing = handler;\r\n        _context.missing = _runtimeMissing;\r\n    }\r\n    function isResolvedTranslateMessage(type, arg // eslint-disable-line @typescript-eslint/no-explicit-any\r\n    ) {\r\n        return type !== 'translate' || !arg.resolvedMessage;\r\n    }\r\n    const wrapWithDeps = (fn, argumentParser, warnType, fallbackSuccess, fallbackFail, successCondition) => {\r\n        trackReactivityValues(); // track reactive dependency\r\n        // NOTE: experimental !!\r\n        let ret;\r\n        {\r\n            try {\r\n                coreBase.setAdditionalMeta(getMetaInfo());\r\n                if (!_isGlobal) {\r\n                    _context.fallbackContext = __root\r\n                        ? coreBase.getFallbackContext()\r\n                        : undefined;\r\n                }\r\n                ret = fn(_context);\r\n            }\r\n            finally {\r\n                coreBase.setAdditionalMeta(null);\r\n                if (!_isGlobal) {\r\n                    _context.fallbackContext = undefined;\r\n                }\r\n            }\r\n        }\r\n        if (shared.isNumber(ret) && ret === coreBase.NOT_REOSLVED) {\r\n            const [key, arg2] = argumentParser();\r\n            if (__root &&\r\n                shared.isString(key) &&\r\n                isResolvedTranslateMessage(warnType, arg2)) {\r\n                if (_fallbackRoot &&\r\n                    (coreBase.isTranslateFallbackWarn(_fallbackWarn, key) ||\r\n                        coreBase.isTranslateMissingWarn(_missingWarn, key))) {\r\n                    shared.warn(getWarnMessage(I18nWarnCodes.FALLBACK_TO_ROOT, {\r\n                        key,\r\n                        type: warnType\r\n                    }));\r\n                }\r\n                // for vue-devtools timeline event\r\n                {\r\n                    const { __v_emitter: emitter } = _context;\r\n                    if (emitter && _fallbackRoot) {\r\n                        emitter.emit(\"fallback\" /* FALBACK */, {\r\n                            type: warnType,\r\n                            key,\r\n                            to: 'global',\r\n                            groupId: `${warnType}:${key}`\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n            return __root && _fallbackRoot\r\n                ? fallbackSuccess(__root)\r\n                : fallbackFail(key);\r\n        }\r\n        else if (successCondition(ret)) {\r\n            return ret;\r\n        }\r\n        else {\r\n            /* istanbul ignore next */\r\n            throw createI18nError(I18nErrorCodes.UNEXPECTED_RETURN_TYPE);\r\n        }\r\n    };\r\n    // t\r\n    function t(...args) {\r\n        return wrapWithDeps(context => Reflect.apply(coreBase.translate, null, [context, ...args]), () => coreBase.parseTranslateArgs(...args), 'translate', root => Reflect.apply(root.t, root, [...args]), key => key, val => shared.isString(val));\r\n    }\r\n    // rt\r\n    function rt(...args) {\r\n        const [arg1, arg2, arg3] = args;\r\n        if (arg3 && !shared.isObject(arg3)) {\r\n            throw createI18nError(I18nErrorCodes.INVALID_ARGUMENT);\r\n        }\r\n        return t(...[arg1, arg2, shared.assign({ resolvedMessage: true }, arg3 || {})]);\r\n    }\r\n    // d\r\n    function d(...args) {\r\n        return wrapWithDeps(context => Reflect.apply(coreBase.datetime, null, [context, ...args]), () => coreBase.parseDateTimeArgs(...args), 'datetime format', root => Reflect.apply(root.d, root, [...args]), () => coreBase.MISSING_RESOLVE_VALUE, val => shared.isString(val));\r\n    }\r\n    // n\r\n    function n(...args) {\r\n        return wrapWithDeps(context => Reflect.apply(coreBase.number, null, [context, ...args]), () => coreBase.parseNumberArgs(...args), 'number format', root => Reflect.apply(root.n, root, [...args]), () => coreBase.MISSING_RESOLVE_VALUE, val => shared.isString(val));\r\n    }\r\n    // for custom processor\r\n    function normalize(values) {\r\n        return values.map(val => shared.isString(val) || shared.isNumber(val) || shared.isBoolean(val)\r\n            ? createTextNode(String(val))\r\n            : val);\r\n    }\r\n    const interpolate = (val) => val;\r\n    const processor = {\r\n        normalize,\r\n        interpolate,\r\n        type: 'vnode'\r\n    };\r\n    // transrateVNode, using for `i18n-t` component\r\n    function transrateVNode(...args) {\r\n        return wrapWithDeps(context => {\r\n            let ret;\r\n            const _context = context;\r\n            try {\r\n                _context.processor = processor;\r\n                ret = Reflect.apply(coreBase.translate, null, [_context, ...args]);\r\n            }\r\n            finally {\r\n                _context.processor = null;\r\n            }\r\n            return ret;\r\n        }, () => coreBase.parseTranslateArgs(...args), 'translate', \r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        root => root[TransrateVNodeSymbol](...args), key => [createTextNode(key)], val => shared.isArray(val));\r\n    }\r\n    // numberParts, using for `i18n-n` component\r\n    function numberParts(...args) {\r\n        return wrapWithDeps(context => Reflect.apply(coreBase.number, null, [context, ...args]), () => coreBase.parseNumberArgs(...args), 'number format', \r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        root => root[NumberPartsSymbol](...args), () => [], val => shared.isString(val) || shared.isArray(val));\r\n    }\r\n    // datetimeParts, using for `i18n-d` component\r\n    function datetimeParts(...args) {\r\n        return wrapWithDeps(context => Reflect.apply(coreBase.datetime, null, [context, ...args]), () => coreBase.parseDateTimeArgs(...args), 'datetime format', \r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        root => root[DatetimePartsSymbol](...args), () => [], val => shared.isString(val) || shared.isArray(val));\r\n    }\r\n    function setPluralRules(rules) {\r\n        _pluralRules = rules;\r\n        _context.pluralRules = _pluralRules;\r\n    }\r\n    // te\r\n    function te(key, locale) {\r\n        const targetLocale = shared.isString(locale) ? locale : _locale.value;\r\n        const message = getLocaleMessage(targetLocale);\r\n        return _context.messageResolver(message, key) !== null;\r\n    }\r\n    function resolveMessages(key) {\r\n        let messages = null;\r\n        const locales = coreBase.fallbackWithLocaleChain(_context, _fallbackLocale.value, _locale.value);\r\n        for (let i = 0; i < locales.length; i++) {\r\n            const targetLocaleMessages = _messages.value[locales[i]] || {};\r\n            const messageValue = _context.messageResolver(targetLocaleMessages, key);\r\n            if (messageValue != null) {\r\n                messages = messageValue;\r\n                break;\r\n            }\r\n        }\r\n        return messages;\r\n    }\r\n    // tm\r\n    function tm(key) {\r\n        const messages = resolveMessages(key);\r\n        // prettier-ignore\r\n        return messages != null\r\n            ? messages\r\n            : __root\r\n                ? __root.tm(key) || {}\r\n                : {};\r\n    }\r\n    // getLocaleMessage\r\n    function getLocaleMessage(locale) {\r\n        return (_messages.value[locale] || {});\r\n    }\r\n    // setLocaleMessage\r\n    function setLocaleMessage(locale, message) {\r\n        _messages.value[locale] = message;\r\n        _context.messages = _messages.value;\r\n    }\r\n    // mergeLocaleMessage\r\n    function mergeLocaleMessage(locale, message) {\r\n        _messages.value[locale] = _messages.value[locale] || {};\r\n        deepCopy(message, _messages.value[locale]);\r\n        _context.messages = _messages.value;\r\n    }\r\n    // getDateTimeFormat\r\n    function getDateTimeFormat(locale) {\r\n        return _datetimeFormats.value[locale] || {};\r\n    }\r\n    // setDateTimeFormat\r\n    function setDateTimeFormat(locale, format) {\r\n        _datetimeFormats.value[locale] = format;\r\n        _context.datetimeFormats = _datetimeFormats.value;\r\n        coreBase.clearDateTimeFormat(_context, locale, format);\r\n    }\r\n    // mergeDateTimeFormat\r\n    function mergeDateTimeFormat(locale, format) {\r\n        _datetimeFormats.value[locale] = shared.assign(_datetimeFormats.value[locale] || {}, format);\r\n        _context.datetimeFormats = _datetimeFormats.value;\r\n        coreBase.clearDateTimeFormat(_context, locale, format);\r\n    }\r\n    // getNumberFormat\r\n    function getNumberFormat(locale) {\r\n        return _numberFormats.value[locale] || {};\r\n    }\r\n    // setNumberFormat\r\n    function setNumberFormat(locale, format) {\r\n        _numberFormats.value[locale] = format;\r\n        _context.numberFormats = _numberFormats.value;\r\n        coreBase.clearNumberFormat(_context, locale, format);\r\n    }\r\n    // mergeNumberFormat\r\n    function mergeNumberFormat(locale, format) {\r\n        _numberFormats.value[locale] = shared.assign(_numberFormats.value[locale] || {}, format);\r\n        _context.numberFormats = _numberFormats.value;\r\n        coreBase.clearNumberFormat(_context, locale, format);\r\n    }\r\n    // for debug\r\n    composerID++;\r\n    // watch root locale & fallbackLocale\r\n    if (__root && shared.inBrowser) {\r\n        vue.watch(__root.locale, (val) => {\r\n            if (_inheritLocale) {\r\n                _locale.value = val;\r\n                _context.locale = val;\r\n                coreBase.updateFallbackLocale(_context, _locale.value, _fallbackLocale.value);\r\n            }\r\n        });\r\n        vue.watch(__root.fallbackLocale, (val) => {\r\n            if (_inheritLocale) {\r\n                _fallbackLocale.value = val;\r\n                _context.fallbackLocale = val;\r\n                coreBase.updateFallbackLocale(_context, _locale.value, _fallbackLocale.value);\r\n            }\r\n        });\r\n    }\r\n    // define basic composition API!\r\n    const composer = {\r\n        id: composerID,\r\n        locale,\r\n        fallbackLocale,\r\n        get inheritLocale() {\r\n            return _inheritLocale;\r\n        },\r\n        set inheritLocale(val) {\r\n            _inheritLocale = val;\r\n            if (val && __root) {\r\n                _locale.value = __root.locale.value;\r\n                _fallbackLocale.value = __root.fallbackLocale.value;\r\n                coreBase.updateFallbackLocale(_context, _locale.value, _fallbackLocale.value);\r\n            }\r\n        },\r\n        get availableLocales() {\r\n            return Object.keys(_messages.value).sort();\r\n        },\r\n        messages,\r\n        get modifiers() {\r\n            return _modifiers;\r\n        },\r\n        get pluralRules() {\r\n            return _pluralRules || {};\r\n        },\r\n        get isGlobal() {\r\n            return _isGlobal;\r\n        },\r\n        get missingWarn() {\r\n            return _missingWarn;\r\n        },\r\n        set missingWarn(val) {\r\n            _missingWarn = val;\r\n            _context.missingWarn = _missingWarn;\r\n        },\r\n        get fallbackWarn() {\r\n            return _fallbackWarn;\r\n        },\r\n        set fallbackWarn(val) {\r\n            _fallbackWarn = val;\r\n            _context.fallbackWarn = _fallbackWarn;\r\n        },\r\n        get fallbackRoot() {\r\n            return _fallbackRoot;\r\n        },\r\n        set fallbackRoot(val) {\r\n            _fallbackRoot = val;\r\n        },\r\n        get fallbackFormat() {\r\n            return _fallbackFormat;\r\n        },\r\n        set fallbackFormat(val) {\r\n            _fallbackFormat = val;\r\n            _context.fallbackFormat = _fallbackFormat;\r\n        },\r\n        get warnHtmlMessage() {\r\n            return _warnHtmlMessage;\r\n        },\r\n        set warnHtmlMessage(val) {\r\n            _warnHtmlMessage = val;\r\n            _context.warnHtmlMessage = val;\r\n        },\r\n        get escapeParameter() {\r\n            return _escapeParameter;\r\n        },\r\n        set escapeParameter(val) {\r\n            _escapeParameter = val;\r\n            _context.escapeParameter = val;\r\n        },\r\n        t,\r\n        getLocaleMessage,\r\n        setLocaleMessage,\r\n        mergeLocaleMessage,\r\n        getPostTranslationHandler,\r\n        setPostTranslationHandler,\r\n        getMissingHandler,\r\n        setMissingHandler,\r\n        [SetPluralRulesSymbol]: setPluralRules\r\n    };\r\n    {\r\n        composer.datetimeFormats = datetimeFormats;\r\n        composer.numberFormats = numberFormats;\r\n        composer.rt = rt;\r\n        composer.te = te;\r\n        composer.tm = tm;\r\n        composer.d = d;\r\n        composer.n = n;\r\n        composer.getDateTimeFormat = getDateTimeFormat;\r\n        composer.setDateTimeFormat = setDateTimeFormat;\r\n        composer.mergeDateTimeFormat = mergeDateTimeFormat;\r\n        composer.getNumberFormat = getNumberFormat;\r\n        composer.setNumberFormat = setNumberFormat;\r\n        composer.mergeNumberFormat = mergeNumberFormat;\r\n        composer[InejctWithOption] = options.__injectWithOption;\r\n        composer[TransrateVNodeSymbol] = transrateVNode;\r\n        composer[DatetimePartsSymbol] = datetimeParts;\r\n        composer[NumberPartsSymbol] = numberParts;\r\n    }\r\n    // for vue-devtools timeline event\r\n    {\r\n        composer[EnableEmitter] = (emitter) => {\r\n            _context.__v_emitter = emitter;\r\n        };\r\n        composer[DisableEmitter] = () => {\r\n            _context.__v_emitter = undefined;\r\n        };\r\n    }\r\n    return composer;\r\n}\r\n/* eslint-enable @typescript-eslint/no-explicit-any */\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\n/**\r\n * Convert to I18n Composer Options from VueI18n Options\r\n *\r\n * @internal\r\n */\r\nfunction convertComposerOptions(options) {\r\n    const locale = shared.isString(options.locale) ? options.locale : coreBase.DEFAULT_LOCALE;\r\n    const fallbackLocale = shared.isString(options.fallbackLocale) ||\r\n        shared.isArray(options.fallbackLocale) ||\r\n        shared.isPlainObject(options.fallbackLocale) ||\r\n        options.fallbackLocale === false\r\n        ? options.fallbackLocale\r\n        : locale;\r\n    const missing = shared.isFunction(options.missing) ? options.missing : undefined;\r\n    const missingWarn = shared.isBoolean(options.silentTranslationWarn) ||\r\n        shared.isRegExp(options.silentTranslationWarn)\r\n        ? !options.silentTranslationWarn\r\n        : true;\r\n    const fallbackWarn = shared.isBoolean(options.silentFallbackWarn) ||\r\n        shared.isRegExp(options.silentFallbackWarn)\r\n        ? !options.silentFallbackWarn\r\n        : true;\r\n    const fallbackRoot = shared.isBoolean(options.fallbackRoot)\r\n        ? options.fallbackRoot\r\n        : true;\r\n    const fallbackFormat = !!options.formatFallbackMessages;\r\n    const modifiers = shared.isPlainObject(options.modifiers) ? options.modifiers : {};\r\n    const pluralizationRules = options.pluralizationRules;\r\n    const postTranslation = shared.isFunction(options.postTranslation)\r\n        ? options.postTranslation\r\n        : undefined;\r\n    const warnHtmlMessage = shared.isString(options.warnHtmlInMessage)\r\n        ? options.warnHtmlInMessage !== 'off'\r\n        : true;\r\n    const escapeParameter = !!options.escapeParameterHtml;\r\n    const inheritLocale = shared.isBoolean(options.sync) ? options.sync : true;\r\n    if (options.formatter) {\r\n        shared.warn(getWarnMessage(I18nWarnCodes.NOT_SUPPORTED_FORMATTER));\r\n    }\r\n    if (options.preserveDirectiveContent) {\r\n        shared.warn(getWarnMessage(I18nWarnCodes.NOT_SUPPORTED_PRESERVE_DIRECTIVE));\r\n    }\r\n    let messages = options.messages;\r\n    if (shared.isPlainObject(options.sharedMessages)) {\r\n        const sharedMessages = options.sharedMessages;\r\n        const locales = Object.keys(sharedMessages);\r\n        messages = locales.reduce((messages, locale) => {\r\n            const message = messages[locale] || (messages[locale] = {});\r\n            shared.assign(message, sharedMessages[locale]);\r\n            return messages;\r\n        }, (messages || {}));\r\n    }\r\n    const { __i18n, __root, __injectWithOption } = options;\r\n    const datetimeFormats = options.datetimeFormats;\r\n    const numberFormats = options.numberFormats;\r\n    const flatJson = options.flatJson;\r\n    return {\r\n        locale,\r\n        fallbackLocale,\r\n        messages,\r\n        flatJson,\r\n        datetimeFormats,\r\n        numberFormats,\r\n        missing,\r\n        missingWarn,\r\n        fallbackWarn,\r\n        fallbackRoot,\r\n        fallbackFormat,\r\n        modifiers,\r\n        pluralRules: pluralizationRules,\r\n        postTranslation,\r\n        warnHtmlMessage,\r\n        escapeParameter,\r\n        messageResolver: options.messageResolver,\r\n        inheritLocale,\r\n        __i18n,\r\n        __root,\r\n        __injectWithOption\r\n    };\r\n}\r\n/**\r\n * create VueI18n interface factory\r\n *\r\n * @internal\r\n */\r\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\r\nfunction createVueI18n(options = {}, VueI18nLegacy) {\r\n    {\r\n        const composer = createComposer(convertComposerOptions(options));\r\n        // defines VueI18n\r\n        const vueI18n = {\r\n            // id\r\n            id: composer.id,\r\n            // locale\r\n            get locale() {\r\n                return composer.locale.value;\r\n            },\r\n            set locale(val) {\r\n                composer.locale.value = val;\r\n            },\r\n            // fallbackLocale\r\n            get fallbackLocale() {\r\n                return composer.fallbackLocale.value;\r\n            },\r\n            set fallbackLocale(val) {\r\n                composer.fallbackLocale.value = val;\r\n            },\r\n            // messages\r\n            get messages() {\r\n                return composer.messages.value;\r\n            },\r\n            // datetimeFormats\r\n            get datetimeFormats() {\r\n                return composer.datetimeFormats.value;\r\n            },\r\n            // numberFormats\r\n            get numberFormats() {\r\n                return composer.numberFormats.value;\r\n            },\r\n            // availableLocales\r\n            get availableLocales() {\r\n                return composer.availableLocales;\r\n            },\r\n            // formatter\r\n            get formatter() {\r\n                shared.warn(getWarnMessage(I18nWarnCodes.NOT_SUPPORTED_FORMATTER));\r\n                // dummy\r\n                return {\r\n                    interpolate() {\r\n                        return [];\r\n                    }\r\n                };\r\n            },\r\n            set formatter(val) {\r\n                shared.warn(getWarnMessage(I18nWarnCodes.NOT_SUPPORTED_FORMATTER));\r\n            },\r\n            // missing\r\n            get missing() {\r\n                return composer.getMissingHandler();\r\n            },\r\n            set missing(handler) {\r\n                composer.setMissingHandler(handler);\r\n            },\r\n            // silentTranslationWarn\r\n            get silentTranslationWarn() {\r\n                return shared.isBoolean(composer.missingWarn)\r\n                    ? !composer.missingWarn\r\n                    : composer.missingWarn;\r\n            },\r\n            set silentTranslationWarn(val) {\r\n                composer.missingWarn = shared.isBoolean(val) ? !val : val;\r\n            },\r\n            // silentFallbackWarn\r\n            get silentFallbackWarn() {\r\n                return shared.isBoolean(composer.fallbackWarn)\r\n                    ? !composer.fallbackWarn\r\n                    : composer.fallbackWarn;\r\n            },\r\n            set silentFallbackWarn(val) {\r\n                composer.fallbackWarn = shared.isBoolean(val) ? !val : val;\r\n            },\r\n            // modifiers\r\n            get modifiers() {\r\n                return composer.modifiers;\r\n            },\r\n            // formatFallbackMessages\r\n            get formatFallbackMessages() {\r\n                return composer.fallbackFormat;\r\n            },\r\n            set formatFallbackMessages(val) {\r\n                composer.fallbackFormat = val;\r\n            },\r\n            // postTranslation\r\n            get postTranslation() {\r\n                return composer.getPostTranslationHandler();\r\n            },\r\n            set postTranslation(handler) {\r\n                composer.setPostTranslationHandler(handler);\r\n            },\r\n            // sync\r\n            get sync() {\r\n                return composer.inheritLocale;\r\n            },\r\n            set sync(val) {\r\n                composer.inheritLocale = val;\r\n            },\r\n            // warnInHtmlMessage\r\n            get warnHtmlInMessage() {\r\n                return composer.warnHtmlMessage ? 'warn' : 'off';\r\n            },\r\n            set warnHtmlInMessage(val) {\r\n                composer.warnHtmlMessage = val !== 'off';\r\n            },\r\n            // escapeParameterHtml\r\n            get escapeParameterHtml() {\r\n                return composer.escapeParameter;\r\n            },\r\n            set escapeParameterHtml(val) {\r\n                composer.escapeParameter = val;\r\n            },\r\n            // preserveDirectiveContent\r\n            get preserveDirectiveContent() {\r\n                shared.warn(getWarnMessage(I18nWarnCodes.NOT_SUPPORTED_PRESERVE_DIRECTIVE));\r\n                return true;\r\n            },\r\n            set preserveDirectiveContent(val) {\r\n                shared.warn(getWarnMessage(I18nWarnCodes.NOT_SUPPORTED_PRESERVE_DIRECTIVE));\r\n            },\r\n            // pluralizationRules\r\n            get pluralizationRules() {\r\n                return composer.pluralRules || {};\r\n            },\r\n            // for internal\r\n            __composer: composer,\r\n            // t\r\n            t(...args) {\r\n                const [arg1, arg2, arg3] = args;\r\n                const options = {};\r\n                let list = null;\r\n                let named = null;\r\n                if (!shared.isString(arg1)) {\r\n                    throw createI18nError(I18nErrorCodes.INVALID_ARGUMENT);\r\n                }\r\n                const key = arg1;\r\n                if (shared.isString(arg2)) {\r\n                    options.locale = arg2;\r\n                }\r\n                else if (shared.isArray(arg2)) {\r\n                    list = arg2;\r\n                }\r\n                else if (shared.isPlainObject(arg2)) {\r\n                    named = arg2;\r\n                }\r\n                if (shared.isArray(arg3)) {\r\n                    list = arg3;\r\n                }\r\n                else if (shared.isPlainObject(arg3)) {\r\n                    named = arg3;\r\n                }\r\n                // return composer.t(key, (list || named || {}) as any, options)\r\n                return Reflect.apply(composer.t, composer, [\r\n                    key,\r\n                    (list || named || {}),\r\n                    options\r\n                ]);\r\n            },\r\n            rt(...args) {\r\n                return Reflect.apply(composer.rt, composer, [...args]);\r\n            },\r\n            // tc\r\n            tc(...args) {\r\n                const [arg1, arg2, arg3] = args;\r\n                const options = { plural: 1 };\r\n                let list = null;\r\n                let named = null;\r\n                if (!shared.isString(arg1)) {\r\n                    throw createI18nError(I18nErrorCodes.INVALID_ARGUMENT);\r\n                }\r\n                const key = arg1;\r\n                if (shared.isString(arg2)) {\r\n                    options.locale = arg2;\r\n                }\r\n                else if (shared.isNumber(arg2)) {\r\n                    options.plural = arg2;\r\n                }\r\n                else if (shared.isArray(arg2)) {\r\n                    list = arg2;\r\n                }\r\n                else if (shared.isPlainObject(arg2)) {\r\n                    named = arg2;\r\n                }\r\n                if (shared.isString(arg3)) {\r\n                    options.locale = arg3;\r\n                }\r\n                else if (shared.isArray(arg3)) {\r\n                    list = arg3;\r\n                }\r\n                else if (shared.isPlainObject(arg3)) {\r\n                    named = arg3;\r\n                }\r\n                // return composer.t(key, (list || named || {}) as any, options)\r\n                return Reflect.apply(composer.t, composer, [\r\n                    key,\r\n                    (list || named || {}),\r\n                    options\r\n                ]);\r\n            },\r\n            // te\r\n            te(key, locale) {\r\n                return composer.te(key, locale);\r\n            },\r\n            // tm\r\n            tm(key) {\r\n                return composer.tm(key);\r\n            },\r\n            // getLocaleMessage\r\n            getLocaleMessage(locale) {\r\n                return composer.getLocaleMessage(locale);\r\n            },\r\n            // setLocaleMessage\r\n            setLocaleMessage(locale, message) {\r\n                composer.setLocaleMessage(locale, message);\r\n            },\r\n            // mergeLocaleMessage\r\n            mergeLocaleMessage(locale, message) {\r\n                composer.mergeLocaleMessage(locale, message);\r\n            },\r\n            // d\r\n            d(...args) {\r\n                return Reflect.apply(composer.d, composer, [...args]);\r\n            },\r\n            // getDateTimeFormat\r\n            getDateTimeFormat(locale) {\r\n                return composer.getDateTimeFormat(locale);\r\n            },\r\n            // setDateTimeFormat\r\n            setDateTimeFormat(locale, format) {\r\n                composer.setDateTimeFormat(locale, format);\r\n            },\r\n            // mergeDateTimeFormat\r\n            mergeDateTimeFormat(locale, format) {\r\n                composer.mergeDateTimeFormat(locale, format);\r\n            },\r\n            // n\r\n            n(...args) {\r\n                return Reflect.apply(composer.n, composer, [...args]);\r\n            },\r\n            // getNumberFormat\r\n            getNumberFormat(locale) {\r\n                return composer.getNumberFormat(locale);\r\n            },\r\n            // setNumberFormat\r\n            setNumberFormat(locale, format) {\r\n                composer.setNumberFormat(locale, format);\r\n            },\r\n            // mergeNumberFormat\r\n            mergeNumberFormat(locale, format) {\r\n                composer.mergeNumberFormat(locale, format);\r\n            },\r\n            // getChoiceIndex\r\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n            getChoiceIndex(choice, choicesLength) {\r\n                shared.warn(getWarnMessage(I18nWarnCodes.NOT_SUPPORTED_GET_CHOICE_INDEX));\r\n                return -1;\r\n            },\r\n            // for internal\r\n            __onComponentInstanceCreated(target) {\r\n                const { componentInstanceCreatedListener } = options;\r\n                if (componentInstanceCreatedListener) {\r\n                    componentInstanceCreatedListener(target, vueI18n);\r\n                }\r\n            }\r\n        };\r\n        // for vue-devtools timeline event\r\n        {\r\n            vueI18n.__enableEmitter = (emitter) => {\r\n                const __composer = composer;\r\n                __composer[EnableEmitter] && __composer[EnableEmitter](emitter);\r\n            };\r\n            vueI18n.__disableEmitter = () => {\r\n                const __composer = composer;\r\n                __composer[DisableEmitter] && __composer[DisableEmitter]();\r\n            };\r\n        }\r\n        return vueI18n;\r\n    }\r\n}\r\n/* eslint-enable @typescript-eslint/no-explicit-any */\n\nconst baseFormatProps = {\r\n    tag: {\r\n        type: [String, Object]\r\n    },\r\n    locale: {\r\n        type: String\r\n    },\r\n    scope: {\r\n        type: String,\r\n        // NOTE: avoid https://github.com/microsoft/rushstack/issues/1050\r\n        validator: (val /* ComponetI18nScope */) => val === 'parent' || val === 'global',\r\n        default: 'parent' /* ComponetI18nScope */\r\n    },\r\n    i18n: {\r\n        type: Object\r\n    }\r\n};\n\nfunction getInterpolateArg(\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n{ slots }, // SetupContext,\r\nkeys) {\r\n    if (keys.length === 1 && keys[0] === 'default') {\r\n        // default slot with list\r\n        const ret = slots.default ? slots.default() : [];\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        return ret.reduce((slot, current) => {\r\n            return (slot = [\r\n                ...slot,\r\n                ...(shared.isArray(current.children) ? current.children : [current])\r\n            ]);\r\n        }, []);\r\n    }\r\n    else {\r\n        // named slots\r\n        return keys.reduce((arg, key) => {\r\n            const slot = slots[key];\r\n            if (slot) {\r\n                arg[key] = slot();\r\n            }\r\n            return arg;\r\n        }, {});\r\n    }\r\n}\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfunction getFragmentableTag(tag) {\r\n    return vue.Fragment ;\r\n}\n\n/**\r\n * Translation Component\r\n *\r\n * @remarks\r\n * See the following items for property about details\r\n *\r\n * @VueI18nSee [TranslationProps](component#translationprops)\r\n * @VueI18nSee [BaseFormatProps](component#baseformatprops)\r\n * @VueI18nSee [Component Interpolation](../guide/advanced/component)\r\n *\r\n * @example\r\n * ```html\r\n * <div id=\"app\">\r\n *   <!-- ... -->\r\n *   <i18n path=\"term\" tag=\"label\" for=\"tos\">\r\n *     <a :href=\"url\" target=\"_blank\">{{ $t('tos') }}</a>\r\n *   </i18n>\r\n *   <!-- ... -->\r\n * </div>\r\n * ```\r\n * ```js\r\n * import { createApp } from 'vue'\r\n * import { createI18n } from 'vue-i18n'\r\n *\r\n * const messages = {\r\n *   en: {\r\n *     tos: 'Term of Service',\r\n *     term: 'I accept xxx {0}.'\r\n *   },\r\n *   ja: {\r\n *     tos: '利用規約',\r\n *     term: '私は xxx の{0}に同意します。'\r\n *   }\r\n * }\r\n *\r\n * const i18n = createI18n({\r\n *   locale: 'en',\r\n *   messages\r\n * })\r\n *\r\n * const app = createApp({\r\n *   data: {\r\n *     url: '/term'\r\n *   }\r\n * }).use(i18n).mount('#app')\r\n * ```\r\n *\r\n * @VueI18nComponent\r\n */\r\nconst Translation =  /* defineComponent */ {\r\n    /* eslint-disable */\r\n    name: 'i18n-t',\r\n    props: shared.assign({\r\n        keypath: {\r\n            type: String,\r\n            required: true\r\n        },\r\n        plural: {\r\n            type: [Number, String],\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            validator: (val) => shared.isNumber(val) || !isNaN(val)\r\n        }\r\n    }, baseFormatProps),\r\n    /* eslint-enable */\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    setup(props, context) {\r\n        const { slots, attrs } = context;\r\n        // NOTE: avoid https://github.com/microsoft/rushstack/issues/1050\r\n        const i18n = props.i18n ||\r\n            useI18n({\r\n                useScope: props.scope,\r\n                __useComponent: true\r\n            });\r\n        return () => {\r\n            const keys = Object.keys(slots).filter(key => key !== '_');\r\n            const options = {};\r\n            if (props.locale) {\r\n                options.locale = props.locale;\r\n            }\r\n            if (props.plural !== undefined) {\r\n                options.plural = shared.isString(props.plural) ? +props.plural : props.plural;\r\n            }\r\n            const arg = getInterpolateArg(context, keys);\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            const children = i18n[TransrateVNodeSymbol](props.keypath, arg, options);\r\n            const assignedAttrs = shared.assign({}, attrs);\r\n            const tag = shared.isString(props.tag) || shared.isObject(props.tag)\r\n                ? props.tag\r\n                : getFragmentableTag();\r\n            return vue.h(tag, assignedAttrs, children);\r\n        };\r\n    }\r\n};\n\nfunction isVNode(target) {\r\n    return shared.isArray(target) && !shared.isString(target[0]);\r\n}\r\nfunction renderFormatter(props, context, slotKeys, partFormatter) {\r\n    const { slots, attrs } = context;\r\n    return () => {\r\n        const options = { part: true };\r\n        let overrides = {};\r\n        if (props.locale) {\r\n            options.locale = props.locale;\r\n        }\r\n        if (shared.isString(props.format)) {\r\n            options.key = props.format;\r\n        }\r\n        else if (shared.isObject(props.format)) {\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            if (shared.isString(props.format.key)) {\r\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                options.key = props.format.key;\r\n            }\r\n            // Filter out number format options only\r\n            overrides = Object.keys(props.format).reduce((options, prop) => {\r\n                return slotKeys.includes(prop)\r\n                    ? shared.assign({}, options, { [prop]: props.format[prop] }) // eslint-disable-line @typescript-eslint/no-explicit-any\r\n                    : options;\r\n            }, {});\r\n        }\r\n        const parts = partFormatter(...[props.value, options, overrides]);\r\n        let children = [options.key];\r\n        if (shared.isArray(parts)) {\r\n            children = parts.map((part, index) => {\r\n                const slot = slots[part.type];\r\n                const node = slot\r\n                    ? slot({ [part.type]: part.value, index, parts })\r\n                    : [part.value];\r\n                if (isVNode(node)) {\r\n                    node[0].key = `${part.type}-${index}`;\r\n                }\r\n                return node;\r\n            });\r\n        }\r\n        else if (shared.isString(parts)) {\r\n            children = [parts];\r\n        }\r\n        const assignedAttrs = shared.assign({}, attrs);\r\n        const tag = shared.isString(props.tag) || shared.isObject(props.tag)\r\n            ? props.tag\r\n            : getFragmentableTag();\r\n        return vue.h(tag, assignedAttrs, children);\r\n    };\r\n}\n\n/**\r\n * Number Format Component\r\n *\r\n * @remarks\r\n * See the following items for property about details\r\n *\r\n * @VueI18nSee [FormattableProps](component#formattableprops)\r\n * @VueI18nSee [BaseFormatProps](component#baseformatprops)\r\n * @VueI18nSee [Custom Formatting](../guide/essentials/number#custom-formatting)\r\n *\r\n * @VueI18nDanger\r\n * Not supported IE, due to no support `Intl.NumberFormat#formatToParts` in [IE](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/NumberFormat/formatToParts)\r\n *\r\n * If you want to use it, you need to use [polyfill](https://github.com/formatjs/formatjs/tree/main/packages/intl-numberformat)\r\n *\r\n * @VueI18nComponent\r\n */\r\nconst NumberFormat =  /* defineComponent */ {\r\n    /* eslint-disable */\r\n    name: 'i18n-n',\r\n    props: shared.assign({\r\n        value: {\r\n            type: Number,\r\n            required: true\r\n        },\r\n        format: {\r\n            type: [String, Object]\r\n        }\r\n    }, baseFormatProps),\r\n    /* eslint-enable */\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    setup(props, context) {\r\n        const i18n = props.i18n ||\r\n            useI18n({ useScope: 'parent', __useComponent: true });\r\n        return renderFormatter(props, context, coreBase.NUMBER_FORMAT_OPTIONS_KEYS, (...args) => \r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        i18n[NumberPartsSymbol](...args));\r\n    }\r\n};\n\n/**\r\n * Datetime Format Component\r\n *\r\n * @remarks\r\n * See the following items for property about details\r\n *\r\n * @VueI18nSee [FormattableProps](component#formattableprops)\r\n * @VueI18nSee [BaseFormatProps](component#baseformatprops)\r\n * @VueI18nSee [Custom Formatting](../guide/essentials/datetime#custom-formatting)\r\n *\r\n * @VueI18nDanger\r\n * Not supported IE, due to no support `Intl.DateTimeFormat#formatToParts` in [IE](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/DateTimeFormat/formatToParts)\r\n *\r\n * If you want to use it, you need to use [polyfill](https://github.com/formatjs/formatjs/tree/main/packages/intl-datetimeformat)\r\n *\r\n * @VueI18nComponent\r\n */\r\nconst DatetimeFormat =  /*defineComponent */ {\r\n    /* eslint-disable */\r\n    name: 'i18n-d',\r\n    props: shared.assign({\r\n        value: {\r\n            type: [Number, Date],\r\n            required: true\r\n        },\r\n        format: {\r\n            type: [String, Object]\r\n        }\r\n    }, baseFormatProps),\r\n    /* eslint-enable */\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    setup(props, context) {\r\n        const i18n = props.i18n ||\r\n            useI18n({ useScope: 'parent', __useComponent: true });\r\n        return renderFormatter(props, context, coreBase.DATETIME_FORMAT_OPTIONS_KEYS, (...args) => \r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        i18n[DatetimePartsSymbol](...args));\r\n    }\r\n};\n\nfunction getComposer$1(i18n, instance) {\r\n    const i18nInternal = i18n;\r\n    if (i18n.mode === 'composition') {\r\n        return (i18nInternal.__getInstance(instance) || i18n.global);\r\n    }\r\n    else {\r\n        const vueI18n = i18nInternal.__getInstance(instance);\r\n        return vueI18n != null\r\n            ? vueI18n.__composer\r\n            : i18n.global.__composer;\r\n    }\r\n}\r\nfunction vTDirective(i18n) {\r\n    const _process = (binding) => {\r\n        const { instance, modifiers, value } = binding;\r\n        /* istanbul ignore if */\r\n        if (!instance || !instance.$) {\r\n            throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);\r\n        }\r\n        const composer = getComposer$1(i18n, instance.$);\r\n        if (modifiers.preserve) {\r\n            shared.warn(getWarnMessage(I18nWarnCodes.NOT_SUPPORTED_PRESERVE));\r\n        }\r\n        const parsedValue = parseValue(value);\r\n        return [\r\n            Reflect.apply(composer.t, composer, [...makeParams(parsedValue)]),\r\n            composer\r\n        ];\r\n    };\r\n    const register = (el, binding) => {\r\n        const [textContent, composer] = _process(binding);\r\n        if (shared.inBrowser && i18n.global === composer) {\r\n            // global scope only\r\n            el.__i18nWatcher = vue.watch(composer.locale, () => {\r\n                binding.instance && binding.instance.$forceUpdate();\r\n            });\r\n        }\r\n        el.__composer = composer;\r\n        el.textContent = textContent;\r\n    };\r\n    const unregister = (el) => {\r\n        if (shared.inBrowser && el.__i18nWatcher) {\r\n            el.__i18nWatcher();\r\n            el.__i18nWatcher = undefined;\r\n            delete el.__i18nWatcher;\r\n        }\r\n        if (el.__composer) {\r\n            el.__composer = undefined;\r\n            delete el.__composer;\r\n        }\r\n    };\r\n    const update = (el, { value }) => {\r\n        if (el.__composer) {\r\n            const composer = el.__composer;\r\n            const parsedValue = parseValue(value);\r\n            el.textContent = Reflect.apply(composer.t, composer, [\r\n                ...makeParams(parsedValue)\r\n            ]);\r\n        }\r\n    };\r\n    const getSSRProps = (binding) => {\r\n        const [textContent] = _process(binding);\r\n        return { textContent };\r\n    };\r\n    return {\r\n        created: register,\r\n        unmounted: unregister,\r\n        beforeUpdate: update,\r\n        getSSRProps\r\n    };\r\n}\r\nfunction parseValue(value) {\r\n    if (shared.isString(value)) {\r\n        return { path: value };\r\n    }\r\n    else if (shared.isPlainObject(value)) {\r\n        if (!('path' in value)) {\r\n            throw createI18nError(I18nErrorCodes.REQUIRED_VALUE, 'path');\r\n        }\r\n        return value;\r\n    }\r\n    else {\r\n        throw createI18nError(I18nErrorCodes.INVALID_VALUE);\r\n    }\r\n}\r\nfunction makeParams(value) {\r\n    const { path, locale, args, choice, plural } = value;\r\n    const options = {};\r\n    const named = args || {};\r\n    if (shared.isString(locale)) {\r\n        options.locale = locale;\r\n    }\r\n    if (shared.isNumber(choice)) {\r\n        options.plural = choice;\r\n    }\r\n    if (shared.isNumber(plural)) {\r\n        options.plural = plural;\r\n    }\r\n    return [path, named, options];\r\n}\n\nfunction apply(app, i18n, ...options) {\r\n    const pluginOptions = shared.isPlainObject(options[0])\r\n        ? options[0]\r\n        : {};\r\n    const useI18nComponentName = !!pluginOptions.useI18nComponentName;\r\n    const globalInstall = shared.isBoolean(pluginOptions.globalInstall)\r\n        ? pluginOptions.globalInstall\r\n        : true;\r\n    if (globalInstall && useI18nComponentName) {\r\n        shared.warn(getWarnMessage(I18nWarnCodes.COMPONENT_NAME_LEGACY_COMPATIBLE, {\r\n            name: Translation.name\r\n        }));\r\n    }\r\n    if (globalInstall) {\r\n        // install components\r\n        app.component(!useI18nComponentName ? Translation.name : 'i18n', Translation);\r\n        app.component(NumberFormat.name, NumberFormat);\r\n        app.component(DatetimeFormat.name, DatetimeFormat);\r\n    }\r\n    // install directive\r\n    {\r\n        app.directive('t', vTDirective(i18n));\r\n    }\r\n}\n\n/**\r\n * Supports compatibility for legacy vue-i18n APIs\r\n * This mixin is used when we use vue-i18n@v9.x or later\r\n */\r\nfunction defineMixin(vuei18n, composer, i18n) {\r\n    return {\r\n        beforeCreate() {\r\n            const instance = vue.getCurrentInstance();\r\n            /* istanbul ignore if */\r\n            if (!instance) {\r\n                throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);\r\n            }\r\n            const options = this.$options;\r\n            if (options.i18n) {\r\n                const optionsI18n = options.i18n;\r\n                if (options.__i18n) {\r\n                    optionsI18n.__i18n = options.__i18n;\r\n                }\r\n                optionsI18n.__root = composer;\r\n                if (this === this.$root) {\r\n                    this.$i18n = mergeToRoot(vuei18n, optionsI18n);\r\n                }\r\n                else {\r\n                    optionsI18n.__injectWithOption = true;\r\n                    this.$i18n = createVueI18n(optionsI18n);\r\n                }\r\n            }\r\n            else if (options.__i18n) {\r\n                if (this === this.$root) {\r\n                    this.$i18n = mergeToRoot(vuei18n, options);\r\n                }\r\n                else {\r\n                    this.$i18n = createVueI18n({\r\n                        __i18n: options.__i18n,\r\n                        __injectWithOption: true,\r\n                        __root: composer\r\n                    });\r\n                }\r\n            }\r\n            else {\r\n                // set global\r\n                this.$i18n = vuei18n;\r\n            }\r\n            if (options.__i18nGlobal) {\r\n                adjustI18nResources(composer, options, options);\r\n            }\r\n            vuei18n.__onComponentInstanceCreated(this.$i18n);\r\n            i18n.__setInstance(instance, this.$i18n);\r\n            // defines vue-i18n legacy APIs\r\n            this.$t = (...args) => this.$i18n.t(...args);\r\n            this.$rt = (...args) => this.$i18n.rt(...args);\r\n            this.$tc = (...args) => this.$i18n.tc(...args);\r\n            this.$te = (key, locale) => this.$i18n.te(key, locale);\r\n            this.$d = (...args) => this.$i18n.d(...args);\r\n            this.$n = (...args) => this.$i18n.n(...args);\r\n            this.$tm = (key) => this.$i18n.tm(key);\r\n        },\r\n        mounted() {\r\n        },\r\n        unmounted() {\r\n            const instance = vue.getCurrentInstance();\r\n            /* istanbul ignore if */\r\n            if (!instance) {\r\n                throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);\r\n            }\r\n            delete this.$t;\r\n            delete this.$rt;\r\n            delete this.$tc;\r\n            delete this.$te;\r\n            delete this.$d;\r\n            delete this.$n;\r\n            delete this.$tm;\r\n            i18n.__deleteInstance(instance);\r\n            delete this.$i18n;\r\n        }\r\n    };\r\n}\r\nfunction mergeToRoot(root, options) {\r\n    root.locale = options.locale || root.locale;\r\n    root.fallbackLocale = options.fallbackLocale || root.fallbackLocale;\r\n    root.missing = options.missing || root.missing;\r\n    root.silentTranslationWarn =\r\n        options.silentTranslationWarn || root.silentFallbackWarn;\r\n    root.silentFallbackWarn =\r\n        options.silentFallbackWarn || root.silentFallbackWarn;\r\n    root.formatFallbackMessages =\r\n        options.formatFallbackMessages || root.formatFallbackMessages;\r\n    root.postTranslation = options.postTranslation || root.postTranslation;\r\n    root.warnHtmlInMessage = options.warnHtmlInMessage || root.warnHtmlInMessage;\r\n    root.escapeParameterHtml =\r\n        options.escapeParameterHtml || root.escapeParameterHtml;\r\n    root.sync = options.sync || root.sync;\r\n    root.__composer[SetPluralRulesSymbol](options.pluralizationRules || root.pluralizationRules);\r\n    const messages = getLocaleMessages(root.locale, {\r\n        messages: options.messages,\r\n        __i18n: options.__i18n\r\n    });\r\n    Object.keys(messages).forEach(locale => root.mergeLocaleMessage(locale, messages[locale]));\r\n    if (options.datetimeFormats) {\r\n        Object.keys(options.datetimeFormats).forEach(locale => root.mergeDateTimeFormat(locale, options.datetimeFormats[locale]));\r\n    }\r\n    if (options.numberFormats) {\r\n        Object.keys(options.numberFormats).forEach(locale => root.mergeNumberFormat(locale, options.numberFormats[locale]));\r\n    }\r\n    return root;\r\n}\n\n/**\r\n * Injection key for {@link useI18n}\r\n *\r\n * @remarks\r\n * The global injection key for I18n instances with `useI18n`. this injection key is used in Web Components.\r\n * Specify the i18n instance created by {@link createI18n} together with `provide` function.\r\n *\r\n * @VueI18nGeneral\r\n */\r\nconst I18nInjectionKey = \r\n/* #__PURE__*/ shared.makeSymbol('global-vue-i18n');\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/explicit-module-boundary-types\r\nfunction createI18n(options = {}, VueI18nLegacy) {\r\n    // prettier-ignore\r\n    const __legacyMode = shared.isBoolean(options.legacy)\r\n            ? options.legacy\r\n            : true;\r\n    // prettier-ignore\r\n    const __globalInjection = shared.isBoolean(options.globalInjection)\r\n        ? options.globalInjection\r\n        : true;\r\n    // prettier-ignore\r\n    const __allowComposition = __legacyMode\r\n            ? !!options.allowComposition\r\n            : true;\r\n    const __instances = new Map();\r\n    const [globalScope, __global] = createGlobal(options, __legacyMode);\r\n    const symbol = shared.makeSymbol('vue-i18n' );\r\n    function __getInstance(component) {\r\n        return __instances.get(component) || null;\r\n    }\r\n    function __setInstance(component, instance) {\r\n        __instances.set(component, instance);\r\n    }\r\n    function __deleteInstance(component) {\r\n        __instances.delete(component);\r\n    }\r\n    {\r\n        const i18n = {\r\n            // mode\r\n            get mode() {\r\n                return __legacyMode\r\n                    ? 'legacy'\r\n                    : 'composition';\r\n            },\r\n            // allowComposition\r\n            get allowComposition() {\r\n                return __allowComposition;\r\n            },\r\n            // install plugin\r\n            async install(app, ...options) {\r\n                // setup global provider\r\n                app.__VUE_I18N_SYMBOL__ = symbol;\r\n                app.provide(app.__VUE_I18N_SYMBOL__, i18n);\r\n                // global method and properties injection for Composition API\r\n                if (!__legacyMode && __globalInjection) {\r\n                    injectGlobalFields(app, i18n.global);\r\n                }\r\n                // install built-in components and directive\r\n                {\r\n                    apply(app, i18n, ...options);\r\n                }\r\n                // setup mixin for Legacy API\r\n                if (__legacyMode) {\r\n                    app.mixin(defineMixin(__global, __global.__composer, i18n));\r\n                }\r\n                // release global scope\r\n                const unmountApp = app.unmount;\r\n                app.unmount = () => {\r\n                    i18n.dispose();\r\n                    unmountApp();\r\n                };\r\n            },\r\n            // global accessor\r\n            get global() {\r\n                return __global;\r\n            },\r\n            dispose() {\r\n                globalScope.stop();\r\n            },\r\n            // @internal\r\n            __instances,\r\n            // @internal\r\n            __getInstance,\r\n            // @internal\r\n            __setInstance,\r\n            // @internal\r\n            __deleteInstance\r\n        };\r\n        return i18n;\r\n    }\r\n}\r\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\r\nfunction useI18n(options = {}) {\r\n    const instance = vue.getCurrentInstance();\r\n    if (instance == null) {\r\n        throw createI18nError(I18nErrorCodes.MUST_BE_CALL_SETUP_TOP);\r\n    }\r\n    if (!instance.isCE &&\r\n        instance.appContext.app != null &&\r\n        !instance.appContext.app.__VUE_I18N_SYMBOL__) {\r\n        throw createI18nError(I18nErrorCodes.NOT_INSLALLED);\r\n    }\r\n    const i18n = getI18nInstance(instance);\r\n    const global = getGlobalComposer(i18n);\r\n    const componentOptions = getComponentOptions(instance);\r\n    const scope = getScope(options, componentOptions);\r\n    {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        if (i18n.mode === 'legacy' && !options.__useComponent) {\r\n            if (!i18n.allowComposition) {\r\n                throw createI18nError(I18nErrorCodes.NOT_AVAILABLE_IN_LEGACY_MODE);\r\n            }\r\n            return useI18nForLegacy(instance, scope, global, options);\r\n        }\r\n    }\r\n    if (scope === 'global') {\r\n        adjustI18nResources(global, options, componentOptions);\r\n        return global;\r\n    }\r\n    if (scope === 'parent') {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        let composer = getComposer(i18n, instance, options.__useComponent);\r\n        if (composer == null) {\r\n            {\r\n                shared.warn(getWarnMessage(I18nWarnCodes.NOT_FOUND_PARENT_SCOPE));\r\n            }\r\n            composer = global;\r\n        }\r\n        return composer;\r\n    }\r\n    const i18nInternal = i18n;\r\n    let composer = i18nInternal.__getInstance(instance);\r\n    if (composer == null) {\r\n        const composerOptions = shared.assign({}, options);\r\n        if ('__i18n' in componentOptions) {\r\n            composerOptions.__i18n = componentOptions.__i18n;\r\n        }\r\n        if (global) {\r\n            composerOptions.__root = global;\r\n        }\r\n        composer = createComposer(composerOptions);\r\n        setupLifeCycle(i18nInternal, instance);\r\n        i18nInternal.__setInstance(instance, composer);\r\n    }\r\n    return composer;\r\n}\r\n/**\r\n * Cast to VueI18n legacy compatible type\r\n *\r\n * @remarks\r\n * This API is provided only with [vue-i18n-bridge](https://vue-i18n.intlify.dev/guide/migration/ways.html#what-is-vue-i18n-bridge).\r\n *\r\n * The purpose of this function is to convert an {@link I18n} instance created with {@link createI18n | createI18n(legacy: true)} into a `vue-i18n@v8.x` compatible instance of `new VueI18n` in a TypeScript environment.\r\n *\r\n * @param i18n - An instance of {@link I18n}\r\n * @returns A i18n instance which is casted to {@link VueI18n} type\r\n *\r\n * @VueI18nTip\r\n * :new: provided by **vue-i18n-bridge only**\r\n *\r\n * @VueI18nGeneral\r\n */\r\nconst castToVueI18n =  (i18n\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n) => {\r\n    if (!(__VUE_I18N_BRIDGE__ in i18n)) {\r\n        throw createI18nError(I18nErrorCodes.NOT_COMPATIBLE_LEGACY_VUE_I18N);\r\n    }\r\n    return i18n;\r\n};\r\nfunction createGlobal(options, legacyMode, VueI18nLegacy // eslint-disable-line @typescript-eslint/no-explicit-any\r\n) {\r\n    const scope = vue.effectScope();\r\n    {\r\n        const obj = legacyMode\r\n            ? scope.run(() => createVueI18n(options))\r\n            : scope.run(() => createComposer(options));\r\n        if (obj == null) {\r\n            throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);\r\n        }\r\n        return [scope, obj];\r\n    }\r\n}\r\nfunction getI18nInstance(instance) {\r\n    {\r\n        const i18n = vue.inject(!instance.isCE\r\n            ? instance.appContext.app.__VUE_I18N_SYMBOL__\r\n            : I18nInjectionKey);\r\n        /* istanbul ignore if */\r\n        if (!i18n) {\r\n            throw createI18nError(!instance.isCE\r\n                ? I18nErrorCodes.UNEXPECTED_ERROR\r\n                : I18nErrorCodes.NOT_INSLALLED_WITH_PROVIDE);\r\n        }\r\n        return i18n;\r\n    }\r\n}\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfunction getScope(options, componentOptions) {\r\n    // prettier-ignore\r\n    return shared.isEmptyObject(options)\r\n        ? ('__i18n' in componentOptions)\r\n            ? 'local'\r\n            : 'global'\r\n        : !options.useScope\r\n            ? 'local'\r\n            : options.useScope;\r\n}\r\nfunction getGlobalComposer(i18n) {\r\n    // prettier-ignore\r\n    return i18n.mode === 'composition'\r\n            ? i18n.global\r\n            : i18n.global.__composer\r\n        ;\r\n}\r\nfunction getComposer(i18n, target, useComponent = false) {\r\n    let composer = null;\r\n    const root = target.root;\r\n    let current = target.parent;\r\n    while (current != null) {\r\n        const i18nInternal = i18n;\r\n        if (i18n.mode === 'composition') {\r\n            composer = i18nInternal.__getInstance(current);\r\n        }\r\n        else {\r\n            {\r\n                const vueI18n = i18nInternal.__getInstance(current);\r\n                if (vueI18n != null) {\r\n                    composer = vueI18n\r\n                        .__composer;\r\n                    if (useComponent &&\r\n                        composer &&\r\n                        !composer[InejctWithOption] // eslint-disable-line @typescript-eslint/no-explicit-any\r\n                    ) {\r\n                        composer = null;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (composer != null) {\r\n            break;\r\n        }\r\n        if (root === current) {\r\n            break;\r\n        }\r\n        current = current.parent;\r\n    }\r\n    return composer;\r\n}\r\nfunction setupLifeCycle(i18n, target, composer) {\r\n    {\r\n        vue.onMounted(() => {\r\n        }, target);\r\n        vue.onUnmounted(() => {\r\n            i18n.__deleteInstance(target);\r\n        }, target);\r\n    }\r\n}\r\nfunction useI18nForLegacy(instance, scope, root, options = {} // eslint-disable-line @typescript-eslint/no-explicit-any\r\n) {\r\n    const isLocale = scope === 'local';\r\n    const _composer = vue.shallowRef(null);\r\n    if (isLocale &&\r\n        instance.proxy &&\r\n        !(instance.proxy.$options.i18n || instance.proxy.$options.__i18n)) {\r\n        throw createI18nError(I18nErrorCodes.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);\r\n    }\r\n    const _inheritLocale = shared.isBoolean(options.inheritLocale)\r\n        ? options.inheritLocale\r\n        : true;\r\n    const _locale = vue.ref(\r\n    // prettier-ignore\r\n    isLocale && _inheritLocale\r\n        ? root.locale.value\r\n        : shared.isString(options.locale)\r\n            ? options.locale\r\n            : coreBase.DEFAULT_LOCALE);\r\n    const _fallbackLocale = vue.ref(\r\n    // prettier-ignore\r\n    isLocale && _inheritLocale\r\n        ? root.fallbackLocale.value\r\n        : shared.isString(options.fallbackLocale) ||\r\n            shared.isArray(options.fallbackLocale) ||\r\n            shared.isPlainObject(options.fallbackLocale) ||\r\n            options.fallbackLocale === false\r\n            ? options.fallbackLocale\r\n            : _locale.value);\r\n    const _messages = vue.ref(getLocaleMessages(_locale.value, options));\r\n    // prettier-ignore\r\n    const _datetimeFormats = vue.ref(shared.isPlainObject(options.datetimeFormats)\r\n        ? options.datetimeFormats\r\n        : { [_locale.value]: {} });\r\n    // prettier-ignore\r\n    const _numberFormats = vue.ref(shared.isPlainObject(options.numberFormats)\r\n        ? options.numberFormats\r\n        : { [_locale.value]: {} });\r\n    // prettier-ignore\r\n    const _missingWarn = isLocale\r\n        ? root.missingWarn\r\n        : shared.isBoolean(options.missingWarn) || shared.isRegExp(options.missingWarn)\r\n            ? options.missingWarn\r\n            : true;\r\n    // prettier-ignore\r\n    const _fallbackWarn = isLocale\r\n        ? root.fallbackWarn\r\n        : shared.isBoolean(options.fallbackWarn) || shared.isRegExp(options.fallbackWarn)\r\n            ? options.fallbackWarn\r\n            : true;\r\n    // prettier-ignore\r\n    const _fallbackRoot = isLocale\r\n        ? root.fallbackRoot\r\n        : shared.isBoolean(options.fallbackRoot)\r\n            ? options.fallbackRoot\r\n            : true;\r\n    // configure fall back to root\r\n    const _fallbackFormat = !!options.fallbackFormat;\r\n    // runtime missing\r\n    const _missing = shared.isFunction(options.missing) ? options.missing : null;\r\n    // postTranslation handler\r\n    const _postTranslation = shared.isFunction(options.postTranslation)\r\n        ? options.postTranslation\r\n        : null;\r\n    // prettier-ignore\r\n    const _warnHtmlMessage = isLocale\r\n        ? root.warnHtmlMessage\r\n        : shared.isBoolean(options.warnHtmlMessage)\r\n            ? options.warnHtmlMessage\r\n            : true;\r\n    const _escapeParameter = !!options.escapeParameter;\r\n    // prettier-ignore\r\n    const _modifiers = isLocale\r\n        ? root.modifiers\r\n        : shared.isPlainObject(options.modifiers)\r\n            ? options.modifiers\r\n            : {};\r\n    // pluralRules\r\n    const _pluralRules = options.pluralRules || (isLocale && root.pluralRules);\r\n    // track reactivity\r\n    function trackReactivityValues() {\r\n        return [\r\n            _locale.value,\r\n            _fallbackLocale.value,\r\n            _messages.value,\r\n            _datetimeFormats.value,\r\n            _numberFormats.value\r\n        ];\r\n    }\r\n    // locale\r\n    const locale = vue.computed({\r\n        get: () => {\r\n            return _composer.value ? _composer.value.locale.value : _locale.value;\r\n        },\r\n        set: val => {\r\n            if (_composer.value) {\r\n                _composer.value.locale.value = val;\r\n            }\r\n            _locale.value = val;\r\n        }\r\n    });\r\n    // fallbackLocale\r\n    const fallbackLocale = vue.computed({\r\n        get: () => {\r\n            return _composer.value\r\n                ? _composer.value.fallbackLocale.value\r\n                : _fallbackLocale.value;\r\n        },\r\n        set: val => {\r\n            if (_composer.value) {\r\n                _composer.value.fallbackLocale.value = val;\r\n            }\r\n            _fallbackLocale.value = val;\r\n        }\r\n    });\r\n    // messages\r\n    const messages = vue.computed(() => {\r\n        if (_composer.value) {\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            return _composer.value.messages.value;\r\n        }\r\n        else {\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            return _messages.value;\r\n        }\r\n    });\r\n    const datetimeFormats = vue.computed(() => _datetimeFormats.value);\r\n    const numberFormats = vue.computed(() => _numberFormats.value);\r\n    function getPostTranslationHandler() {\r\n        return _composer.value\r\n            ? _composer.value.getPostTranslationHandler()\r\n            : _postTranslation;\r\n    }\r\n    function setPostTranslationHandler(handler) {\r\n        if (_composer.value) {\r\n            _composer.value.setPostTranslationHandler(handler);\r\n        }\r\n    }\r\n    function getMissingHandler() {\r\n        return _composer.value ? _composer.value.getMissingHandler() : _missing;\r\n    }\r\n    function setMissingHandler(handler) {\r\n        if (_composer.value) {\r\n            _composer.value.setMissingHandler(handler);\r\n        }\r\n    }\r\n    function warpWithDeps(fn) {\r\n        trackReactivityValues();\r\n        return fn();\r\n    }\r\n    function t(...args) {\r\n        return _composer.value\r\n            ? warpWithDeps(() => Reflect.apply(_composer.value.t, null, [...args]))\r\n            : warpWithDeps(() => '');\r\n    }\r\n    function rt(...args) {\r\n        return _composer.value\r\n            ? Reflect.apply(_composer.value.rt, null, [...args])\r\n            : '';\r\n    }\r\n    function d(...args) {\r\n        return _composer.value\r\n            ? warpWithDeps(() => Reflect.apply(_composer.value.d, null, [...args]))\r\n            : warpWithDeps(() => '');\r\n    }\r\n    function n(...args) {\r\n        return _composer.value\r\n            ? warpWithDeps(() => Reflect.apply(_composer.value.n, null, [...args]))\r\n            : warpWithDeps(() => '');\r\n    }\r\n    function tm(key) {\r\n        return _composer.value ? _composer.value.tm(key) : {};\r\n    }\r\n    function te(key, locale) {\r\n        return _composer.value ? _composer.value.te(key, locale) : false;\r\n    }\r\n    function getLocaleMessage(locale) {\r\n        return _composer.value ? _composer.value.getLocaleMessage(locale) : {};\r\n    }\r\n    function setLocaleMessage(locale, message) {\r\n        if (_composer.value) {\r\n            _composer.value.setLocaleMessage(locale, message);\r\n            _messages.value[locale] = message;\r\n        }\r\n    }\r\n    function mergeLocaleMessage(locale, message) {\r\n        if (_composer.value) {\r\n            _composer.value.mergeLocaleMessage(locale, message);\r\n        }\r\n    }\r\n    function getDateTimeFormat(locale) {\r\n        return _composer.value ? _composer.value.getDateTimeFormat(locale) : {};\r\n    }\r\n    function setDateTimeFormat(locale, format) {\r\n        if (_composer.value) {\r\n            _composer.value.setDateTimeFormat(locale, format);\r\n            _datetimeFormats.value[locale] = format;\r\n        }\r\n    }\r\n    function mergeDateTimeFormat(locale, format) {\r\n        if (_composer.value) {\r\n            _composer.value.mergeDateTimeFormat(locale, format);\r\n        }\r\n    }\r\n    function getNumberFormat(locale) {\r\n        return _composer.value ? _composer.value.getNumberFormat(locale) : {};\r\n    }\r\n    function setNumberFormat(locale, format) {\r\n        if (_composer.value) {\r\n            _composer.value.setNumberFormat(locale, format);\r\n            _numberFormats.value[locale] = format;\r\n        }\r\n    }\r\n    function mergeNumberFormat(locale, format) {\r\n        if (_composer.value) {\r\n            _composer.value.mergeNumberFormat(locale, format);\r\n        }\r\n    }\r\n    const wrapper = {\r\n        get id() {\r\n            return _composer.value ? _composer.value.id : -1;\r\n        },\r\n        locale,\r\n        fallbackLocale,\r\n        messages,\r\n        datetimeFormats,\r\n        numberFormats,\r\n        get inheritLocale() {\r\n            return _composer.value ? _composer.value.inheritLocale : _inheritLocale;\r\n        },\r\n        set inheritLocale(val) {\r\n            if (_composer.value) {\r\n                _composer.value.inheritLocale = val;\r\n            }\r\n        },\r\n        get availableLocales() {\r\n            return _composer.value\r\n                ? _composer.value.availableLocales\r\n                : Object.keys(_messages.value);\r\n        },\r\n        get modifiers() {\r\n            return (_composer.value ? _composer.value.modifiers : _modifiers);\r\n        },\r\n        get pluralRules() {\r\n            return (_composer.value ? _composer.value.pluralRules : _pluralRules);\r\n        },\r\n        get isGlobal() {\r\n            return _composer.value ? _composer.value.isGlobal : false;\r\n        },\r\n        get missingWarn() {\r\n            return _composer.value ? _composer.value.missingWarn : _missingWarn;\r\n        },\r\n        set missingWarn(val) {\r\n            if (_composer.value) {\r\n                _composer.value.missingWarn = val;\r\n            }\r\n        },\r\n        get fallbackWarn() {\r\n            return _composer.value ? _composer.value.fallbackWarn : _fallbackWarn;\r\n        },\r\n        set fallbackWarn(val) {\r\n            if (_composer.value) {\r\n                _composer.value.missingWarn = val;\r\n            }\r\n        },\r\n        get fallbackRoot() {\r\n            return _composer.value ? _composer.value.fallbackRoot : _fallbackRoot;\r\n        },\r\n        set fallbackRoot(val) {\r\n            if (_composer.value) {\r\n                _composer.value.fallbackRoot = val;\r\n            }\r\n        },\r\n        get fallbackFormat() {\r\n            return _composer.value ? _composer.value.fallbackFormat : _fallbackFormat;\r\n        },\r\n        set fallbackFormat(val) {\r\n            if (_composer.value) {\r\n                _composer.value.fallbackFormat = val;\r\n            }\r\n        },\r\n        get warnHtmlMessage() {\r\n            return _composer.value\r\n                ? _composer.value.warnHtmlMessage\r\n                : _warnHtmlMessage;\r\n        },\r\n        set warnHtmlMessage(val) {\r\n            if (_composer.value) {\r\n                _composer.value.warnHtmlMessage = val;\r\n            }\r\n        },\r\n        get escapeParameter() {\r\n            return _composer.value\r\n                ? _composer.value.escapeParameter\r\n                : _escapeParameter;\r\n        },\r\n        set escapeParameter(val) {\r\n            if (_composer.value) {\r\n                _composer.value.escapeParameter = val;\r\n            }\r\n        },\r\n        t,\r\n        getPostTranslationHandler,\r\n        setPostTranslationHandler,\r\n        getMissingHandler,\r\n        setMissingHandler,\r\n        rt,\r\n        d,\r\n        n,\r\n        tm,\r\n        te,\r\n        getLocaleMessage,\r\n        setLocaleMessage,\r\n        mergeLocaleMessage,\r\n        getDateTimeFormat,\r\n        setDateTimeFormat,\r\n        mergeDateTimeFormat,\r\n        getNumberFormat,\r\n        setNumberFormat,\r\n        mergeNumberFormat\r\n    };\r\n    function sync(composer) {\r\n        composer.locale.value = _locale.value;\r\n        composer.fallbackLocale.value = _fallbackLocale.value;\r\n        Object.keys(_messages.value).forEach(locale => {\r\n            composer.mergeLocaleMessage(locale, _messages.value[locale]);\r\n        });\r\n        Object.keys(_datetimeFormats.value).forEach(locale => {\r\n            composer.mergeDateTimeFormat(locale, _datetimeFormats.value[locale]);\r\n        });\r\n        Object.keys(_numberFormats.value).forEach(locale => {\r\n            composer.mergeNumberFormat(locale, _numberFormats.value[locale]);\r\n        });\r\n        composer.escapeParameter = _escapeParameter;\r\n        composer.fallbackFormat = _fallbackFormat;\r\n        composer.fallbackRoot = _fallbackRoot;\r\n        composer.fallbackWarn = _fallbackWarn;\r\n        composer.missingWarn = _missingWarn;\r\n        composer.warnHtmlMessage = _warnHtmlMessage;\r\n    }\r\n    vue.onBeforeMount(() => {\r\n        if (instance.proxy == null || instance.proxy.$i18n == null) {\r\n            throw createI18nError(I18nErrorCodes.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);\r\n        }\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        const composer = (_composer.value = instance.proxy.$i18n\r\n            .__composer);\r\n        if (scope === 'global') {\r\n            _locale.value = composer.locale.value;\r\n            _fallbackLocale.value = composer.fallbackLocale.value;\r\n            _messages.value = composer.messages.value;\r\n            _datetimeFormats.value = composer.datetimeFormats.value;\r\n            _numberFormats.value = composer.numberFormats.value;\r\n        }\r\n        else if (isLocale) {\r\n            sync(composer);\r\n        }\r\n    });\r\n    return wrapper;\r\n}\r\nconst globalExportProps = [\r\n    'locale',\r\n    'fallbackLocale',\r\n    'availableLocales'\r\n];\r\nconst globalExportMethods = ['t', 'rt', 'd', 'n', 'tm'] ;\r\nfunction injectGlobalFields(app, composer) {\r\n    const i18n = Object.create(null);\r\n    globalExportProps.forEach(prop => {\r\n        const desc = Object.getOwnPropertyDescriptor(composer, prop);\r\n        if (!desc) {\r\n            throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);\r\n        }\r\n        const wrap = vue.isRef(desc.value) // check computed props\r\n            ? {\r\n                get() {\r\n                    return desc.value.value;\r\n                },\r\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                set(val) {\r\n                    desc.value.value = val;\r\n                }\r\n            }\r\n            : {\r\n                get() {\r\n                    return desc.get && desc.get();\r\n                }\r\n            };\r\n        Object.defineProperty(i18n, prop, wrap);\r\n    });\r\n    app.config.globalProperties.$i18n = i18n;\r\n    globalExportMethods.forEach(method => {\r\n        const desc = Object.getOwnPropertyDescriptor(composer, method);\r\n        if (!desc || !desc.value) {\r\n            throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);\r\n        }\r\n        Object.defineProperty(app.config.globalProperties, `$${method}`, desc);\r\n    });\r\n}\n\n// register message compiler at vue-i18n\r\ncoreBase.registerMessageCompiler(coreBase.compileToFunction);\r\n// register message resolver at vue-i18n\r\ncoreBase.registerMessageResolver(coreBase.resolveValue);\r\n// register fallback locale at vue-i18n\r\ncoreBase.registerLocaleFallbacker(coreBase.fallbackWithLocaleChain);\r\n// NOTE: experimental !!\r\n{\r\n    const target = shared.getGlobalThis();\r\n    target.__INTLIFY__ = true;\r\n    coreBase.setDevToolsHook(target.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__);\r\n}\n\nexports.DatetimeFormat = DatetimeFormat;\nexports.I18nInjectionKey = I18nInjectionKey;\nexports.NumberFormat = NumberFormat;\nexports.Translation = Translation;\nexports.VERSION = VERSION;\nexports.castToVueI18n = castToVueI18n;\nexports.createI18n = createI18n;\nexports.useI18n = useI18n;\nexports.vTDirective = vTDirective;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}