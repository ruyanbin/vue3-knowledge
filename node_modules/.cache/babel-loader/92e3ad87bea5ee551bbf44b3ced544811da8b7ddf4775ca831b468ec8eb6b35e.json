{"ast":null,"code":"import { DirectionalLight, Color } from 'three';\nclass ThreeLightDirectional {\n  constructor(layer, options) {\n    this.layer = layer;\n    const light = new DirectionalLight(this.getColorHex(options.color), options.intensity);\n    this.object = light;\n    this.setPosition(options.position);\n    layer.add(light);\n  }\n  setColor(color) {\n    this.object.color = new Color(color);\n    this.refresh();\n  }\n  getColorHex(color) {\n    return new Color(color).getHex();\n  }\n  setIntensity(intensity) {\n    this.object.intensity = intensity;\n    this.refresh();\n  }\n  setPosition(position) {\n    this.object.position.set(position.x, position.y, position.z);\n    this.refresh();\n  }\n  setTarget(target) {\n    if (target) {\n      this.object.target = target;\n      this.refresh();\n    }\n  }\n  refresh() {\n    var _a;\n    (_a = this.layer) == null ? void 0 : _a.update();\n  }\n  remove() {\n    var _a;\n    if (this.object) {\n      (_a = this.layer) == null ? void 0 : _a.remove(this.object);\n    }\n  }\n  destroy() {\n    if (this.object) {\n      this.object = null;\n      this.layer = null;\n    }\n  }\n}\nexport { ThreeLightDirectional as default };","map":{"version":3,"mappings":";AAWA,MAA4BA;EAI1BC,YAAYC,OAAyBC,OAAkB;IACrD,KAAKD,KAAQ;IACb,MAAME,QAAQ,IAAIC,iBAAiB,KAAKC,WAAY,SAAQC,QAAQJ,OAAQ;IAC5E,KAAKK,MAAS;IACd,KAAKC,YAAYN,OAAQ;IACzBD,MAAMQ,GAAI;EAAA;EAGZC,SAASJ,KAAe;IACjB,YAAQA,KAAQ,OAAIK,KAAM;IAC1B;EAAA;EAGPN,YAAYC,KAAc;IACjB,WAAIK,MAAML,KAAO;EAAA;EAG1BM,aAAaC,SAAmB;IAC9B,KAAKN,OAAQM,SAAY;IACpB;EAAA;EAGPL,YAAYM,QAAc;IACxB,KAAKP,OAAQO,QAAS,KAAIA,SAASC,CAAG,WAASC,GAAGF,QAAS;IACtD;EAAA;EAGPG,UAAUC,MAAa;IACrB,IAAGA,MAAO;MACR,KAAKX,OAAQW,MAAS;MACjB;IAAA;EAAA;EAITC,OAAU;IAjDZ;IAkDI,WAAKlB,UAAL,IAAY;EAAA;EAGdmB,MAAQ;IArDV;IAsDI,IAAI,KAAKb,MAAQ;MACV,qBAAL,IAAY,sBAAO,IAAK;IAAA;EAAA;EAI5Bc,OAAU;IACR,IAAI,KAAKd,MAAQ;MACf,KAAKA,MAAS;MACd,KAAKN,KAAQ;IAAA;EAAA;AAAA","names":["ThreeLightDirectional","constructor","layer","options","light","DirectionalLight","getColorHex","color","object","setPosition","add","setColor","Color","setIntensity","intensity","position","x","y","setTarget","target","refresh","remove","destroy"],"sources":["../../../../../../src/packages/three/ThreeLightDirectional/ThreeLightDirectional.ts"],"sourcesContent":["import {DirectionalLight, Color} from 'three';\r\nimport type {Vec} from \"./Type\";\r\nimport type CustomThreeLayer from '@vue-map/packages/three/ThreeLayer/CustomThreeLayer'\r\n\r\ninterface Options {\r\n  color: string // 颜色的rgb数值。缺省值为 0xffffff。\r\n  intensity: number  // 光照的强度。缺省值为 1。\r\n  position: Vec // 灯光位置\r\n  target: any // 目标位置\r\n}\r\n\r\nclass ThreeLightDirectional {\r\n  object: DirectionalLight | null // Light\r\n  layer: CustomThreeLayer | null // threejs的图层对象\r\n\r\n  constructor(layer: CustomThreeLayer, options: Options) {\r\n    this.layer = layer;\r\n    const light = new DirectionalLight(this.getColorHex(options.color), options.intensity);\r\n    this.object = light;\r\n    this.setPosition(options.position);\r\n    layer.add(light);\r\n  }\r\n\r\n  setColor(color: string) {\r\n    this.object!.color = new Color(color);\r\n    this.refresh();\r\n  }\r\n\r\n  getColorHex(color: string){\r\n    return new Color(color).getHex();\r\n  }\r\n\r\n  setIntensity(intensity: number) {\r\n    this.object!.intensity = intensity;\r\n    this.refresh();\r\n  }\r\n\r\n  setPosition(position: Vec){\r\n    this.object!.position.set(position.x, position.y, position.z);\r\n    this.refresh();\r\n  }\r\n\r\n  setTarget(target?: any){\r\n    if(target){\r\n      this.object!.target = target;\r\n      this.refresh();\r\n    }\r\n  }\r\n\r\n  refresh() {\r\n    this.layer?.update();\r\n  }\r\n\r\n  remove(){\r\n    if (this.object) {\r\n      this.layer?.remove(this.object)\r\n    }\r\n  }\r\n\r\n  destroy() {\r\n    if (this.object) {\r\n      this.object = null;\r\n      this.layer = null;\r\n    }\r\n  }\r\n}\r\n\r\nexport default ThreeLightDirectional\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}