{"ast":null,"code":"import { AmbientLight, Color } from 'three';\nclass ThreeLightAmbient {\n  constructor(layer, options) {\n    this.layer = layer;\n    const light = new AmbientLight(this.getColorHex(options.color), options.intensity);\n    this.object = light;\n    layer.add(light);\n  }\n  setColor(color) {\n    this.object.color = new Color(color);\n    this.refresh();\n  }\n  getColorHex(color) {\n    return new Color(color).getHex();\n  }\n  setIntensity(intensity) {\n    this.object.intensity = intensity;\n    this.refresh();\n  }\n  refresh() {\n    var _a;\n    (_a = this.layer) == null ? void 0 : _a.update();\n  }\n  remove() {\n    var _a;\n    if (this.object) {\n      (_a = this.layer) == null ? void 0 : _a.remove(this.object);\n    }\n  }\n  destroy() {\n    if (this.object) {\n      this.object = null;\n      this.layer = null;\n    }\n  }\n}\nexport { ThreeLightAmbient as default };","map":{"version":3,"mappings":";AAQA,MAAwBA;EAItBC,YAAYC,OAAyBC,OAAkB;IACrD,KAAKD,KAAQ;IACb,MAAME,QAAQ,IAAIC,aAAa,KAAKC,WAAY,SAAQC,QAAQJ,OAAQ;IACxE,KAAKK,MAAS;IACdN,MAAMO,GAAI;EAAA;EAGZC,SAASH,KAAe;IACjB,YAAQA,KAAQ,OAAII,KAAM;IAC1B;EAAA;EAGPL,YAAYC,KAAc;IACjB,WAAII,MAAMJ,KAAO;EAAA;EAG1BK,aAAaC,SAAmB;IAC9B,KAAKL,OAAQK,SAAY;IACpB;EAAA;EAGPC,OAAU;IAjCZ;IAkCI,WAAKZ,UAAL,IAAY;EAAA;EAGda,MAAQ;IArCV;IAsCI,IAAI,KAAKP,MAAQ;MACV,qBAAL,IAAY,sBAAO,IAAK;IAAA;EAAA;EAI5BQ,OAAU;IACR,IAAI,KAAKR,MAAQ;MACf,KAAKA,MAAS;MACd,KAAKN,KAAQ;IAAA;EAAA;AAAA","names":["ThreeLightAmbient","constructor","layer","options","light","AmbientLight","getColorHex","color","object","add","setColor","Color","setIntensity","intensity","refresh","remove","destroy"],"sources":["../../../../../../src/packages/three/ThreeLightAmbient/ThreeLightAmbient.ts"],"sourcesContent":["import {AmbientLight, Color} from 'three';\r\nimport type CustomThreeLayer from '@vue-map/packages/three/ThreeLayer/CustomThreeLayer'\r\n\r\ninterface Options {\r\n  color: string // 颜色的rgb数值。缺省值为 0xffffff。\r\n  intensity: number  // 光照的强度。缺省值为 1。\r\n}\r\n\r\nclass ThreeLightAmbient {\r\n  object: AmbientLight | null // Light\r\n  layer: CustomThreeLayer | null // threejs的图层对象\r\n\r\n  constructor(layer: CustomThreeLayer, options: Options) {\r\n    this.layer = layer;\r\n    const light = new AmbientLight(this.getColorHex(options.color), options.intensity);\r\n    this.object = light;\r\n    layer.add(light);\r\n  }\r\n\r\n  setColor(color: string) {\r\n    this.object!.color = new Color(color);\r\n    this.refresh();\r\n  }\r\n\r\n  getColorHex(color: string){\r\n    return new Color(color).getHex();\r\n  }\r\n\r\n  setIntensity(intensity: number) {\r\n    this.object!.intensity = intensity;\r\n    this.refresh();\r\n  }\r\n\r\n  refresh() {\r\n    this.layer?.update();\r\n  }\r\n\r\n  remove(){\r\n    if (this.object) {\r\n      this.layer?.remove(this.object)\r\n    }\r\n  }\r\n\r\n  destroy() {\r\n    if (this.object) {\r\n      this.object = null;\r\n      this.layer = null;\r\n    }\r\n  }\r\n}\r\n\r\nexport default ThreeLightAmbient\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}